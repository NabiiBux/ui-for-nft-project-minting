"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["components_mintButton_tsx"],{

/***/ "./components/mintButton.tsx":
/*!***********************************!*\
  !*** ./components/mintButton.tsx ***!
  \***********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ButtonList\": function() { return /* binding */ ButtonList; },\n/* harmony export */   \"NumericField\": function() { return /* binding */ NumericField; }\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_src_tagged_template_literal_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @swc/helpers/src/_tagged_template_literal.mjs */ \"./node_modules/@swc/helpers/src/_tagged_template_literal.mjs\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _metaplex_foundation_mpl_candy_machine__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @metaplex-foundation/mpl-candy-machine */ \"./node_modules/@metaplex-foundation/mpl-candy-machine/dist/src/index.js\");\n/* harmony import */ var _metaplex_foundation_mpl_candy_machine__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_metaplex_foundation_mpl_candy_machine__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @metaplex-foundation/umi */ \"./node_modules/@metaplex-foundation/umi/dist/esm/index.mjs\");\n/* harmony import */ var _metaplex_foundation_mpl_token_metadata__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @metaplex-foundation/mpl-token-metadata */ \"./node_modules/@metaplex-foundation/mpl-token-metadata/dist/src/index.js\");\n/* harmony import */ var _metaplex_foundation_mpl_token_metadata__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_metaplex_foundation_mpl_token_metadata__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../settings */ \"./settings.tsx\");\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @chakra-ui/react */ \"./node_modules/@chakra-ui/react/dist/index.mjs\");\n/* harmony import */ var _metaplex_foundation_mpl_toolbox__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @metaplex-foundation/mpl-toolbox */ \"./node_modules/@metaplex-foundation/mpl-toolbox/dist/src/index.js\");\n/* harmony import */ var _metaplex_foundation_mpl_toolbox__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_metaplex_foundation_mpl_toolbox__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _utils_mintHelper__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/mintHelper */ \"./utils/mintHelper.ts\");\n/* harmony import */ var _utils_SolanaTimeContext__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/utils/SolanaTimeContext */ \"./utils/SolanaTimeContext.tsx\");\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! styled-components */ \"./node_modules/styled-components/dist/styled-components.browser.esm.js\");\n\nfunction _templateObject() {\n    const data = (0,_swc_helpers_src_tagged_template_literal_mjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([\n        \"\\nfont-size: 1.3em;\\nbackground-color: inherit;\\ntext-align:center;\\noutline: none;\\nuser-select: none;\\n\"\n    ]);\n    _templateObject = function() {\n        return data;\n    };\n    return data;\n}\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\nconst NumericField = styled_components__WEBPACK_IMPORTED_MODULE_9__[\"default\"].input(_templateObject());\nconst updateLoadingText = (loadingText, guardList, label, setGuardList)=>{\n    const guardIndex = guardList.findIndex((g)=>g.label === label);\n    if (guardIndex === -1) {\n        console.error(\"guard not found\");\n        return;\n    }\n    const newGuardList = [\n        ...guardList\n    ];\n    newGuardList[guardIndex].loadingText = loadingText;\n    setGuardList(newGuardList);\n};\nconst detectBotTax = (logs)=>{\n    if (logs.find((l)=>l.includes(\"Candy Guard Botting\"))) {\n        throw new Error(\"Candy Guard Bot Tax triggered. Check transaction\");\n    }\n    return false;\n};\nconst fetchNft = async (umi, nftAdress, toast)=>{\n    let digitalAsset;\n    let jsonMetadata;\n    try {\n        digitalAsset = await (0,_metaplex_foundation_mpl_token_metadata__WEBPACK_IMPORTED_MODULE_3__.fetchDigitalAsset)(umi, nftAdress);\n        jsonMetadata = await (0,_metaplex_foundation_mpl_token_metadata__WEBPACK_IMPORTED_MODULE_3__.fetchJsonMetadata)(umi, digitalAsset.metadata.uri);\n    } catch (e) {\n        console.error(e);\n        toast({\n            title: \"Nft could not be fetched!\",\n            description: \"Please check your Wallet instead.\",\n            status: \"error\",\n            duration: 9000,\n            isClosable: true\n        });\n    }\n    return {\n        digitalAsset,\n        jsonMetadata\n    };\n};\nconst mintClick = async (umi, guard, candyMachine, candyGuard, ownedTokens, toast, mintsCreated, setMintsCreated, guardList, setGuardList, onOpen, setCheckEligibility)=>{\n    const guardToUse = (0,_utils_mintHelper__WEBPACK_IMPORTED_MODULE_7__.chooseGuardToUse)(guard, candyGuard);\n    if (!guardToUse.guards) {\n        console.error(\"no guard defined!\");\n        return;\n    }\n    try {\n        //find the guard by guardToUse.label and set minting to true\n        const guardIndex = guardList.findIndex((g)=>g.label === guardToUse.label);\n        if (guardIndex === -1) {\n            console.error(\"guard not found\");\n            return;\n        }\n        const newGuardList = [\n            ...guardList\n        ];\n        newGuardList[guardIndex].minting = true;\n        setGuardList(newGuardList);\n        let routeBuild = await (0,_utils_mintHelper__WEBPACK_IMPORTED_MODULE_7__.routeBuilder)(umi, guardToUse, candyMachine);\n        if (!routeBuild) {\n            routeBuild = (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_10__.transactionBuilder)();\n        }\n        const nftMint = (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_10__.generateSigner)(umi);\n        const mintArgs = (0,_utils_mintHelper__WEBPACK_IMPORTED_MODULE_7__.mintArgsBuilder)(candyMachine, guardToUse, ownedTokens);\n        const tx = (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_10__.transactionBuilder)().add((0,_metaplex_foundation_mpl_candy_machine__WEBPACK_IMPORTED_MODULE_2__.mintV2)(umi, {\n            candyMachine: candyMachine.publicKey,\n            collectionMint: candyMachine.collectionMint,\n            collectionUpdateAuthority: candyMachine.authority,\n            nftMint,\n            group: guardToUse.label === \"default\" ? (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_10__.none)() : (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_10__.some)(guardToUse.label),\n            candyGuard: candyGuard.publicKey,\n            mintArgs,\n            tokenStandard: candyMachine.tokenStandard\n        }));\n        const groupedTx = await (0,_utils_mintHelper__WEBPACK_IMPORTED_MODULE_7__.combineTransactions)(umi, [\n            routeBuild,\n            tx\n        ], toast);\n        if (!groupedTx || groupedTx.length === 0) {\n            console.error(\"no transaction to send\");\n            return;\n        }\n        let lastSignature;\n        if (groupedTx.length > 1) {\n            let counter = 0;\n            for (let tx of groupedTx){\n                tx = tx.prepend((0,_metaplex_foundation_mpl_toolbox__WEBPACK_IMPORTED_MODULE_5__.setComputeUnitLimit)(umi, {\n                    units: 800000\n                }));\n                const { signature  } = await tx.sendAndConfirm(umi, {\n                    confirm: {\n                        commitment: \"processed\"\n                    },\n                    send: {\n                        skipPreflight: true\n                    }\n                });\n                lastSignature = signature;\n                if (counter < groupedTx.length - 1) {\n                    updateLoadingText(\"Transaction \".concat(counter, \"/\").concat(groupedTx.length), guardList, guardToUse.label, setGuardList);\n                    toast({\n                        title: \"Transaction \".concat(counter, \"/\").concat(groupedTx.length, \" successful!\"),\n                        description: \"Please sign the next...\",\n                        status: \"success\",\n                        duration: 90000,\n                        isClosable: true\n                    });\n                }\n            }\n        } else {\n            updateLoadingText(\"Please sign\", guardList, guardToUse.label, setGuardList);\n            let tx = groupedTx[0].prepend((0,_metaplex_foundation_mpl_toolbox__WEBPACK_IMPORTED_MODULE_5__.setComputeUnitLimit)(umi, {\n                units: 800000\n            }));\n            const { signature  } = await tx.sendAndConfirm(umi, {\n                confirm: {\n                    commitment: \"processed\"\n                },\n                send: {\n                    skipPreflight: true\n                }\n            });\n            lastSignature = signature;\n        }\n        if (!lastSignature) {\n            // throw error that no tx was created\n            throw new Error(\"no tx was created\");\n        }\n        updateLoadingText(\"Finalizing transaction\", guardList, guardToUse.label, setGuardList);\n        //loop umi.rpc.getTransaction(lastSignature) until it does not return null. Sleep 1 second between each try.\n        let transaction = null;\n        for(let i = 0; i < 30; i++){\n            transaction = await umi.rpc.getTransaction(lastSignature);\n            if (transaction) {\n                break;\n            }\n            await new Promise((resolve)=>setTimeout(resolve, 1000));\n        }\n        if (transaction === null) {\n            throw new Error(\"no tx on chain for signature \".concat(lastSignature));\n        }\n        const logs = transaction.meta.logs;\n        if (!detectBotTax(logs)) {\n            toast({\n                title: \"Mint successful!\",\n                description: \"You can find your NFT in your wallet.\",\n                status: \"success\",\n                duration: 90000,\n                isClosable: true\n            });\n        }\n        updateLoadingText(\"Fetching your NFT\", guardList, guardToUse.label, setGuardList);\n        const fetchedNft = await fetchNft(umi, nftMint.publicKey, toast);\n        if (fetchedNft.digitalAsset && fetchedNft.jsonMetadata) {\n            if (mintsCreated === undefined) {\n                setMintsCreated([\n                    {\n                        mint: nftMint.publicKey,\n                        offChainMetadata: fetchedNft.jsonMetadata\n                    }\n                ]);\n            } else {\n                setMintsCreated([\n                    ...mintsCreated,\n                    {\n                        mint: nftMint.publicKey,\n                        offChainMetadata: fetchedNft.jsonMetadata\n                    }\n                ]);\n            }\n        //onOpen();\n        }\n    } catch (e) {\n        console.error(\"minting failed because of \".concat(e));\n        toast({\n            title: \"Your mint failed!\",\n            description: \"Please try again.\",\n            status: \"error\",\n            duration: 9000,\n            isClosable: true\n        });\n    } finally{\n        //find the guard by guardToUse.label and set minting to true\n        const guardIndex = guardList.findIndex((g)=>g.label === guardToUse.label);\n        if (guardIndex === -1) {\n            console.error(\"guard not found\");\n            return;\n        }\n        const newGuardList = [\n            ...guardList\n        ];\n        newGuardList[guardIndex].minting = false;\n        setGuardList(newGuardList);\n        setCheckEligibility(true);\n        updateLoadingText(undefined, guardList, guardToUse.label, setGuardList);\n    }\n};\n// new component called timer that calculates the remaining Time based on the bigint solana time and the bigint toTime difference.\nconst Timer = (param)=>{\n    let { solanaTime , toTime , setCheckEligibility  } = param;\n    _s();\n    const [remainingTime, setRemainingTime] = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(toTime - solanaTime);\n    (0,react__WEBPACK_IMPORTED_MODULE_6__.useEffect)(()=>{\n        const interval = setInterval(()=>{\n            setRemainingTime((prev)=>{\n                return prev - BigInt(1);\n            });\n        }, 1000);\n        return ()=>clearInterval(interval);\n    }, []);\n    //convert the remaining time in seconds to the amount of days, hours, minutes and seconds left\n    const days = remainingTime / BigInt(86400);\n    const hours = remainingTime % BigInt(86400) / BigInt(3600);\n    const minutes = remainingTime % BigInt(3600) / BigInt(60);\n    const seconds = remainingTime % BigInt(60);\n    if (days > BigInt(0)) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.Text, {\n            fontSize: \"sm\",\n            fontWeight: \"bold\",\n            display: \"flex\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"span\", {\n                    className: \"timer-details\",\n                    children: days.toLocaleString(\"en-US\", {\n                        minimumIntegerDigits: 2,\n                        useGrouping: false\n                    })\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\TechShop.biz\\\\Documents\\\\GitHub\\\\react\\\\components\\\\mintButton.tsx\",\n                    lineNumber: 337,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"span\", {\n                    className: \"timer-details\",\n                    children: hours.toLocaleString(\"en-US\", {\n                        minimumIntegerDigits: 2,\n                        useGrouping: false\n                    })\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\TechShop.biz\\\\Documents\\\\GitHub\\\\react\\\\components\\\\mintButton.tsx\",\n                    lineNumber: 343,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"span\", {\n                    className: \"timer-details\",\n                    children: minutes.toLocaleString(\"en-US\", {\n                        minimumIntegerDigits: 2,\n                        useGrouping: false\n                    })\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\TechShop.biz\\\\Documents\\\\GitHub\\\\react\\\\components\\\\mintButton.tsx\",\n                    lineNumber: 349,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"span\", {\n                    className: \"timer-details\",\n                    children: seconds.toLocaleString(\"en-US\", {\n                        minimumIntegerDigits: 2,\n                        useGrouping: false\n                    })\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\TechShop.biz\\\\Documents\\\\GitHub\\\\react\\\\components\\\\mintButton.tsx\",\n                    lineNumber: 355,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\TechShop.biz\\\\Documents\\\\GitHub\\\\react\\\\components\\\\mintButton.tsx\",\n            lineNumber: 336,\n            columnNumber: 7\n        }, undefined);\n    }\n    if (hours > BigInt(0)) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.Text, {\n            fontSize: \"sm\",\n            fontWeight: \"bold\",\n            display: \"flex\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"span\", {\n                    className: \"timer-details\",\n                    children: hours.toLocaleString(\"en-US\", {\n                        minimumIntegerDigits: 2,\n                        useGrouping: false\n                    })\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\TechShop.biz\\\\Documents\\\\GitHub\\\\react\\\\components\\\\mintButton.tsx\",\n                    lineNumber: 367,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"span\", {\n                    className: \"timer-details\",\n                    children: minutes.toLocaleString(\"en-US\", {\n                        minimumIntegerDigits: 2,\n                        useGrouping: false\n                    })\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\TechShop.biz\\\\Documents\\\\GitHub\\\\react\\\\components\\\\mintButton.tsx\",\n                    lineNumber: 373,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"span\", {\n                    className: \"timer-details\",\n                    children: seconds.toLocaleString(\"en-US\", {\n                        minimumIntegerDigits: 2,\n                        useGrouping: false\n                    })\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\TechShop.biz\\\\Documents\\\\GitHub\\\\react\\\\components\\\\mintButton.tsx\",\n                    lineNumber: 379,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\TechShop.biz\\\\Documents\\\\GitHub\\\\react\\\\components\\\\mintButton.tsx\",\n            lineNumber: 366,\n            columnNumber: 7\n        }, undefined);\n    }\n    if (minutes > BigInt(0) || seconds > BigInt(0)) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.Text, {\n            fontSize: \"sm\",\n            fontWeight: \"bold\",\n            display: \"flex\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"span\", {\n                    className: \"timer-details\",\n                    children: minutes.toLocaleString(\"en-US\", {\n                        minimumIntegerDigits: 2,\n                        useGrouping: false\n                    })\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\TechShop.biz\\\\Documents\\\\GitHub\\\\react\\\\components\\\\mintButton.tsx\",\n                    lineNumber: 391,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"span\", {\n                    className: \"timer-details\",\n                    children: seconds.toLocaleString(\"en-US\", {\n                        minimumIntegerDigits: 2,\n                        useGrouping: false\n                    })\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\TechShop.biz\\\\Documents\\\\GitHub\\\\react\\\\components\\\\mintButton.tsx\",\n                    lineNumber: 397,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\TechShop.biz\\\\Documents\\\\GitHub\\\\react\\\\components\\\\mintButton.tsx\",\n            lineNumber: 390,\n            columnNumber: 7\n        }, undefined);\n    }\n    if (remainingTime === BigInt(0)) {\n        setCheckEligibility(true);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.Text, {}, void 0, false, {\n        fileName: \"C:\\\\Users\\\\TechShop.biz\\\\Documents\\\\GitHub\\\\react\\\\components\\\\mintButton.tsx\",\n        lineNumber: 409,\n        columnNumber: 10\n    }, undefined);\n};\n_s(Timer, \"ItTsHN0FYfb7A0xFGbOHeZrscG8=\");\n_c = Timer;\nfunction findMintLimit(data, targetLabel) {\n    // Iterate over each group in the data\n    for (const group of data.groups){\n        // Check if the current group has the target label\n        if (group.label === targetLabel) {\n            // Check if sol payment exists in the current grou\n            if (group.guards[\"mintLimit\"]) {\n                var _group_guards_mintLimit, _group_guards_mintLimit_value;\n                // Extract the limit and send it backt\n                if ((_group_guards_mintLimit = group.guards[\"mintLimit\"]) === null || _group_guards_mintLimit === void 0 ? void 0 : (_group_guards_mintLimit_value = _group_guards_mintLimit.value) === null || _group_guards_mintLimit_value === void 0 ? void 0 : _group_guards_mintLimit_value.limit) return group.guards[\"mintLimit\"].value.limit;\n                else {\n                    return \"UNLIMITED\";\n                }\n            } else {\n                // Return 0 if there is no limit\n                return -1;\n            }\n        }\n    }\n    // Return null if the target label is not found in any group\n    return null;\n}\nfunction findMintedByYou(data, targetLabel) {\n    // Iterate over each group in the data\n    for (const group of data.groups){\n        // Check if the current group has the target label\n        if (group.label === targetLabel) {\n            // Check if sol payment exists in the current group\n            if (group.guards[\"redeemedAmount\"]) {\n                // Extract the limit and send it backt\n                if (group.guards[\"redeemedAmount\"] == 3) return group.guards[\"redeemedAmount\"];\n                else {\n                    return \"UNLIMITED\";\n                }\n            } else {\n                // Return 0 if there is no limit\n                return 0;\n            }\n        }\n    }\n    // Return null if the target label is not found in any group\n    return null;\n}\nfunction findSolPaymentPrice(data, targetLabel) {\n    // Iterate over each group in the data\n    for (const group of data.groups){\n        // Check if the current group has the target label\n        if (group.label === targetLabel) {\n            // Check if sol payment exists in the current group\n            if (group.guards[\"solPayment\"]) {\n                // console.log(\"matched guard price\",Number(group.guards['solPayment'].value.lamports.basisPoints)/1e9)\n                // Extract and return the lamports value for sol payment\n                return Number(group.guards[\"solPayment\"].value.lamports.basisPoints) / 1e9;\n            } else {\n                // Return null if sol payment is not found in the current group\n                return null;\n            }\n        }\n    }\n    // Return null if the target label is not found in any group\n    return null;\n}\nfunction ButtonList(param) {\n    let { umi , guardList , candyMachine , candyGuard , ownedTokens =[] , toast , setGuardList , mintsCreated , setMintsCreated , onOpen , setCheckEligibility  } = param;\n    _s1();\n    const solanaTime = (0,_utils_SolanaTimeContext__WEBPACK_IMPORTED_MODULE_8__.useSolanaTime)();\n    const [isSmallerThan1100px] = (0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.useMediaQuery)(\"(max-width: 1100px)\");\n    const [isSmallerThan650px] = (0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.useMediaQuery)(\"(max-width: 650px)\");\n    const [numberOfNfts, setNumberOfNfts] = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)({});\n    if (!candyMachine || !candyGuard) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {}, void 0, false);\n    }\n    let filteredGuardlist = guardList.filter((elem, index, self)=>index === self.findIndex((t)=>t.label === elem.label));\n    if (filteredGuardlist.length === 0) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {}, void 0, false);\n    }\n    // Guard \"default\" can only be used to mint in case no other guard exists\n    if (filteredGuardlist.length > 1) {\n        filteredGuardlist = guardList.filter((elem)=>elem.label != \"default\");\n    }\n    let buttonGuardList = [];\n    for (const guard of filteredGuardlist){\n        const text = _settings__WEBPACK_IMPORTED_MODULE_4__.mintText.find((elem)=>elem.label === guard.label);\n        // find guard by label in candyGuard\n        const group = candyGuard.groups.find((elem)=>elem.label === guard.label);\n        let startTime = (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_10__.createBigInt)(0);\n        let endTime = (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_10__.createBigInt)(0);\n        if (group) {\n            if (group.guards.startDate.__option === \"Some\") {\n                startTime = group.guards.startDate.value.date;\n            }\n            if (group.guards.endDate.__option === \"Some\") {\n                endTime = group.guards.endDate.value.date;\n            }\n        }\n        let buttonElement = {\n            label: guard ? guard.label : \"default\",\n            allowed: guard.allowed,\n            mintedByYou: findMintedByYou(candyGuard, guard ? guard.label : \"default\") || \"Something went wrong\",\n            mintLimit: findMintLimit(candyGuard, guard ? guard.label : \"default\") || \"Something went wrong\",\n            price: findSolPaymentPrice(candyGuard, guard ? guard.label : \"default\") || -1,\n            header: text ? text.header : \"header missing in settings.tsx\",\n            mintText: text ? text.mintText : \"mintText missing in settings.tsx\",\n            buttonLabel: text ? text.buttonDisabledLabel : \"buttonDisabledLabel missing in settings.tsx\",\n            buttonDisabledLabel: \"\",\n            startTime,\n            endTime,\n            tooltip: guard.reason,\n            gateKeeperNetwork: (group === null || group === void 0 ? void 0 : group.guards.gatekeeper.__option) || \"\"\n        };\n        buttonGuardList.push(buttonElement);\n    }\n    const listItems = buttonGuardList.map((buttonGuard, index)=>{\n        var _guardList_find, _guardList_find1;\n        /*#__PURE__*/ return (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.Box, {\n            padding: isSmallerThan650px ? \"0.25rem\" : \"1rem\",\n            marginTop: \"20px\",\n            border: \"1px solid #fff\",\n            width: \"100%\",\n            borderRadius: \"4px\",\n            color: \"white\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.HStack, {\n                    marginBottom: \"12px\",\n                    margin: \".75rem\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.Heading, {\n                            size: isSmallerThan650px ? \"sm\" : \"md\",\n                            textTransform: \"uppercase\",\n                            children: buttonGuard.header\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\TechShop.biz\\\\Documents\\\\GitHub\\\\react\\\\components\\\\mintButton.tsx\",\n                            lineNumber: 591,\n                            columnNumber: 9\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.Flex, {\n                            justifyContent: \"flex-end\",\n                            marginLeft: \"auto\",\n                            children: [\n                                buttonGuard.endTime > (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_10__.createBigInt)(0) && buttonGuard.endTime - solanaTime > (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_10__.createBigInt)(0) && (!buttonGuard.startTime || buttonGuard.startTime - solanaTime <= (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_10__.createBigInt)(0)) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.Text, {\n                                            fontSize: \"md\",\n                                            marginRight: \"2\",\n                                            children: [\n                                                \"Ending in:\",\n                                                \" \"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\TechShop.biz\\\\Documents\\\\GitHub\\\\react\\\\components\\\\mintButton.tsx\",\n                                            lineNumber: 603,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(Timer, {\n                                            toTime: buttonGuard.endTime,\n                                            solanaTime: solanaTime,\n                                            setCheckEligibility: setCheckEligibility\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\TechShop.biz\\\\Documents\\\\GitHub\\\\react\\\\components\\\\mintButton.tsx\",\n                                            lineNumber: 606,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true),\n                                buttonGuard.startTime > (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_10__.createBigInt)(0) && buttonGuard.startTime - solanaTime > (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_10__.createBigInt)(0) && (!buttonGuard.endTime || solanaTime - buttonGuard.endTime <= (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_10__.createBigInt)(0)) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.Text, {\n                                            fontSize: \"md\",\n                                            marginRight: \"2\",\n                                            children: [\n                                                \"Starting in:\",\n                                                \" \"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\TechShop.biz\\\\Documents\\\\GitHub\\\\react\\\\components\\\\mintButton.tsx\",\n                                            lineNumber: 618,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(Timer, {\n                                            toTime: buttonGuard.startTime,\n                                            solanaTime: solanaTime,\n                                            setCheckEligibility: setCheckEligibility\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\TechShop.biz\\\\Documents\\\\GitHub\\\\react\\\\components\\\\mintButton.tsx\",\n                                            lineNumber: 621,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\TechShop.biz\\\\Documents\\\\GitHub\\\\react\\\\components\\\\mintButton.tsx\",\n                            lineNumber: 597,\n                            columnNumber: 9\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\TechShop.biz\\\\Documents\\\\GitHub\\\\react\\\\components\\\\mintButton.tsx\",\n                    lineNumber: 590,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.Flex, {\n                    justifyContent: \"space-between\",\n                    margin: \".75rem\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.Box, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.Text, {\n                                    pt: \"1\",\n                                    fontSize: isSmallerThan650px ? \"sm\" : \"md\",\n                                    children: buttonGuard.mintText\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\TechShop.biz\\\\Documents\\\\GitHub\\\\react\\\\components\\\\mintButton.tsx\",\n                                    lineNumber: 632,\n                                    columnNumber: 11\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.Flex, {\n                                    flexDir: \"row\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.Text, {\n                                            fontSize: \"sm\",\n                                            mr: \"5px\",\n                                            children: buttonGuard.mintLimit.toString() == \"UNLIMITED\" ? buttonGuard.mintLimit : buttonGuard.mintLimit + \" per wallet \"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\TechShop.biz\\\\Documents\\\\GitHub\\\\react\\\\components\\\\mintButton.tsx\",\n                                            lineNumber: 636,\n                                            columnNumber: 13\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.Text, {\n                                            fontSize: \"sm\",\n                                            fontWeight: \"500\",\n                                            children: [\n                                                \"â€¢ \",\n                                                buttonGuard.price,\n                                                \" SOL per NFT\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\TechShop.biz\\\\Documents\\\\GitHub\\\\react\\\\components\\\\mintButton.tsx\",\n                                            lineNumber: 642,\n                                            columnNumber: 13\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\TechShop.biz\\\\Documents\\\\GitHub\\\\react\\\\components\\\\mintButton.tsx\",\n                                    lineNumber: 635,\n                                    columnNumber: 11\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\TechShop.biz\\\\Documents\\\\GitHub\\\\react\\\\components\\\\mintButton.tsx\",\n                            lineNumber: 631,\n                            columnNumber: 9\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.Tooltip, {\n                            label: buttonGuard.tooltip,\n                            \"aria-label\": \"Mint button\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.Button, {\n                                onClick: async ()=>{\n                                    await mintClick(umi, buttonGuard, candyMachine, candyGuard, ownedTokens, toast, mintsCreated, setMintsCreated, guardList, setGuardList, onOpen, setCheckEligibility);\n                                },\n                                size: \"sm\",\n                                backgroundColor: \"#4E46CD\",\n                                textAlign: \"center\",\n                                color: \"white\",\n                                isDisabled: !buttonGuard.allowed,\n                                _hover: {\n                                    backgroundColor: \"gray\"\n                                },\n                                isLoading: (_guardList_find = guardList.find((elem)=>elem.label === buttonGuard.label)) === null || _guardList_find === void 0 ? void 0 : _guardList_find.minting,\n                                loadingText: (_guardList_find1 = guardList.find((elem)=>elem.label === buttonGuard.label)) === null || _guardList_find1 === void 0 ? void 0 : _guardList_find1.loadingText,\n                                children: buttonGuard.buttonLabel\n                            }, buttonGuard.label, false, {\n                                fileName: \"C:\\\\Users\\\\TechShop.biz\\\\Documents\\\\GitHub\\\\react\\\\components\\\\mintButton.tsx\",\n                                lineNumber: 648,\n                                columnNumber: 1\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\TechShop.biz\\\\Documents\\\\GitHub\\\\react\\\\components\\\\mintButton.tsx\",\n                            lineNumber: 647,\n                            columnNumber: 9\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\TechShop.biz\\\\Documents\\\\GitHub\\\\react\\\\components\\\\mintButton.tsx\",\n                    lineNumber: 630,\n                    columnNumber: 7\n                }, this)\n            ]\n        }, index, true, {\n            fileName: \"C:\\\\Users\\\\TechShop.biz\\\\Documents\\\\GitHub\\\\react\\\\components\\\\mintButton.tsx\",\n            lineNumber: 581,\n            columnNumber: 5\n        }, this);\n    });\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n        children: listItems\n    }, void 0, false);\n}\n_s1(ButtonList, \"a8HPF0TqG6ch8Z5TZ2XiUUZtvtI=\", false, function() {\n    return [\n        _utils_SolanaTimeContext__WEBPACK_IMPORTED_MODULE_8__.useSolanaTime,\n        _chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.useMediaQuery,\n        _chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.useMediaQuery\n    ];\n});\n_c1 = ButtonList;\nvar _c, _c1;\n$RefreshReg$(_c, \"Timer\");\n$RefreshReg$(_c1, \"ButtonList\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z0RBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7c0NBSTNCLDhEQUFDcEosc0RBQU9BOzRCQUFDaUIsT0FBTzhJLFlBQVlQLE9BQU87NEJBQUV5QixjQUFXO3NDQUN4RCw0RUFBQ3RMLHFEQUFNQTtnQ0FDS3VMLFNBQVMsVUFBWTtvQ0FDbkIsTUFBTXJJLFVBQ0piLEtBQ0ErSCxhQUNBaEgsY0FDQUMsWUFDQUMsYUFDQWYsT0FDQWdCLGNBQ0FDLGlCQUNBbkMsV0FDQUUsY0FDQWtDLFFBQ0FDO2dDQUVKO2dDQUVBbUgsTUFBSztnQ0FDTFcsaUJBQWdCO2dDQUNoQkMsV0FBVztnQ0FDWGYsT0FBTTtnQ0FDTmdCLFlBQVksQ0FBQ3RCLFlBQVlkLE9BQU87Z0NBQ2hDcUMsUUFBUTtvQ0FDTkgsaUJBQWlCO2dDQUNuQjtnQ0FDQUksV0FDRXZLLENBQUFBLGtCQUFBQSxVQUFVVyxJQUFJLENBQUMsQ0FBQ3lHLE9BQVNBLEtBQUtuSCxLQUFLLEtBQUs4SSxZQUFZOUksS0FBSyxlQUF6REQsNkJBQUFBLEtBQUFBLElBQUFBLGdCQUNJd0MsT0FBTztnQ0FFYnpDLGFBQ0VDLENBQUFBLG1CQUFBQSxVQUFVVyxJQUFJLENBQUMsQ0FBQ3lHLE9BQVNBLEtBQUtuSCxLQUFLLEtBQUs4SSxZQUFZOUksS0FBSyxlQUF6REQsOEJBQUFBLEtBQUFBLElBQUFBLGlCQUNJRCxXQUFXOzBDQUdoQmdKLFlBQVlULFdBQVc7K0JBbEJuQlMsWUFBWTlJLEtBQUs7Ozs7Ozs7Ozs7Ozs7Ozs7O1dBbkZ2Qm9IOzs7Ozs7SUE4R1QscUJBQU87a0JBQUd3Qjs7QUFDWixDQUFDO0lBM0xlaEM7O1FBYUtwSCxtRUFBYUE7UUFDRlIsNERBQWFBO1FBQ2RBLDREQUFhQTs7O01BZjVCNEgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9taW50QnV0dG9uLnRzeD9iOGQ2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgQ2FuZHlHdWFyZCxcclxuICBDYW5keU1hY2hpbmUsXHJcbiAgbWludFYyLFxyXG59IGZyb20gXCJAbWV0YXBsZXgtZm91bmRhdGlvbi9tcGwtY2FuZHktbWFjaGluZVwiO1xyXG5pbXBvcnQgeyBHdWFyZFJldHVybiB9IGZyb20gXCIuLi91dGlscy9jaGVja2VySGVscGVyXCI7XHJcbmltcG9ydCB7XHJcbiAgUHVibGljS2V5LFxyXG4gIFRyYW5zYWN0aW9uLFxyXG4gIFRyYW5zYWN0aW9uV2l0aE1ldGEsXHJcbiAgVW1pLFxyXG4gIGNyZWF0ZUJpZ0ludCxcclxuICBnZW5lcmF0ZVNpZ25lcixcclxuICBub25lLFxyXG4gIHNvbWUsXHJcbiAgdHJhbnNhY3Rpb25CdWlsZGVyLFxyXG59IGZyb20gXCJAbWV0YXBsZXgtZm91bmRhdGlvbi91bWlcIjtcclxuaW1wb3J0IHtcclxuICBEaWdpdGFsQXNzZXQsXHJcbiAgRGlnaXRhbEFzc2V0V2l0aFRva2VuLFxyXG4gIEpzb25NZXRhZGF0YSxcclxuICBmZXRjaERpZ2l0YWxBc3NldCxcclxuICBmZXRjaEpzb25NZXRhZGF0YSxcclxufSBmcm9tIFwiQG1ldGFwbGV4LWZvdW5kYXRpb24vbXBsLXRva2VuLW1ldGFkYXRhXCI7XHJcblxyXG5pbXBvcnQgeyBtaW50VGV4dCB9IGZyb20gXCIuLi9zZXR0aW5nc1wiO1xyXG5pbXBvcnQge1xyXG4gIEJveCxcclxuICBCdXR0b24sXHJcbiAgRmxleCxcclxuICBIU3RhY2ssXHJcbiAgSGVhZGluZyxcclxuICBTaW1wbGVHcmlkLFxyXG4gIFRleHQsXHJcbiAgVG9vbHRpcCxcclxuICBVc2VUb2FzdE9wdGlvbnMsXHJcbiAgdXNlTWVkaWFRdWVyeSxcclxuICBJbnB1dCxcclxufSBmcm9tIFwiQGNoYWtyYS11aS9yZWFjdFwiO1xyXG5pbXBvcnQgeyBzZXRDb21wdXRlVW5pdExpbWl0IH0gZnJvbSBcIkBtZXRhcGxleC1mb3VuZGF0aW9uL21wbC10b29sYm94XCI7XHJcbmltcG9ydCB7IERpc3BhdGNoLCBTZXRTdGF0ZUFjdGlvbiwgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQge1xyXG4gIGNob29zZUd1YXJkVG9Vc2UsXHJcbiAgcm91dGVCdWlsZGVyLFxyXG4gIG1pbnRBcmdzQnVpbGRlcixcclxuICBjb21iaW5lVHJhbnNhY3Rpb25zLFxyXG4gIEd1YXJkQnV0dG9uTGlzdCxcclxufSBmcm9tIFwiLi4vdXRpbHMvbWludEhlbHBlclwiO1xyXG5pbXBvcnQgeyB1c2VTb2xhbmFUaW1lIH0gZnJvbSBcIkAvdXRpbHMvU29sYW5hVGltZUNvbnRleHRcIjtcclxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgc3R5bGVkIGZyb20gXCJzdHlsZWQtY29tcG9uZW50c1wiO1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBOdW1lcmljRmllbGQgPSBzdHlsZWQuaW5wdXRgXHJcbmZvbnQtc2l6ZTogMS4zZW07XHJcbmJhY2tncm91bmQtY29sb3I6IGluaGVyaXQ7XHJcbnRleHQtYWxpZ246Y2VudGVyO1xyXG5vdXRsaW5lOiBub25lO1xyXG51c2VyLXNlbGVjdDogbm9uZTtcclxuYDtcclxuXHJcbmNvbnN0IHVwZGF0ZUxvYWRpbmdUZXh0ID0gKFxyXG4gIGxvYWRpbmdUZXh0OiBzdHJpbmcgfCB1bmRlZmluZWQsXHJcbiAgZ3VhcmRMaXN0OiBHdWFyZFJldHVybltdLFxyXG4gIGxhYmVsOiBzdHJpbmcsXHJcbiAgc2V0R3VhcmRMaXN0OiBEaXNwYXRjaDxTZXRTdGF0ZUFjdGlvbjxHdWFyZFJldHVybltdPj5cclxuKSA9PiB7XHJcbiAgY29uc3QgZ3VhcmRJbmRleCA9IGd1YXJkTGlzdC5maW5kSW5kZXgoKGcpID0+IGcubGFiZWwgPT09IGxhYmVsKTtcclxuICBpZiAoZ3VhcmRJbmRleCA9PT0gLTEpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJndWFyZCBub3QgZm91bmRcIik7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG4gIGNvbnN0IG5ld0d1YXJkTGlzdCA9IFsuLi5ndWFyZExpc3RdO1xyXG4gIG5ld0d1YXJkTGlzdFtndWFyZEluZGV4XS5sb2FkaW5nVGV4dCA9IGxvYWRpbmdUZXh0O1xyXG4gIHNldEd1YXJkTGlzdChuZXdHdWFyZExpc3QpO1xyXG59O1xyXG5cclxuY29uc3QgZGV0ZWN0Qm90VGF4ID0gKGxvZ3M6IHN0cmluZ1tdKSA9PiB7XHJcbiAgaWYgKGxvZ3MuZmluZCgobCkgPT4gbC5pbmNsdWRlcyhcIkNhbmR5IEd1YXJkIEJvdHRpbmdcIikpKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENhbmR5IEd1YXJkIEJvdCBUYXggdHJpZ2dlcmVkLiBDaGVjayB0cmFuc2FjdGlvbmApO1xyXG4gIH1cclxuICByZXR1cm4gZmFsc2U7XHJcbn07XHJcblxyXG5jb25zdCBmZXRjaE5mdCA9IGFzeW5jIChcclxuICB1bWk6IFVtaSxcclxuICBuZnRBZHJlc3M6IFB1YmxpY0tleSxcclxuICB0b2FzdDogKG9wdGlvbnM6IE9taXQ8VXNlVG9hc3RPcHRpb25zLCBcImlkXCI+KSA9PiB2b2lkXHJcbikgPT4ge1xyXG4gIGxldCBkaWdpdGFsQXNzZXQ6IERpZ2l0YWxBc3NldCB8IHVuZGVmaW5lZDtcclxuICBsZXQganNvbk1ldGFkYXRhOiBKc29uTWV0YWRhdGEgfCB1bmRlZmluZWQ7XHJcbiAgdHJ5IHtcclxuICAgIGRpZ2l0YWxBc3NldCA9IGF3YWl0IGZldGNoRGlnaXRhbEFzc2V0KHVtaSwgbmZ0QWRyZXNzKTtcclxuICAgIGpzb25NZXRhZGF0YSA9IGF3YWl0IGZldGNoSnNvbk1ldGFkYXRhKHVtaSwgZGlnaXRhbEFzc2V0Lm1ldGFkYXRhLnVyaSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgIHRvYXN0KHtcclxuICAgICAgdGl0bGU6IFwiTmZ0IGNvdWxkIG5vdCBiZSBmZXRjaGVkIVwiLFxyXG4gICAgICBkZXNjcmlwdGlvbjogXCJQbGVhc2UgY2hlY2sgeW91ciBXYWxsZXQgaW5zdGVhZC5cIixcclxuICAgICAgc3RhdHVzOiBcImVycm9yXCIsXHJcbiAgICAgIGR1cmF0aW9uOiA5MDAwLFxyXG4gICAgICBpc0Nsb3NhYmxlOiB0cnVlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4geyBkaWdpdGFsQXNzZXQsIGpzb25NZXRhZGF0YSB9O1xyXG59O1xyXG5cclxuXHJcbmNvbnN0IG1pbnRDbGljayA9IGFzeW5jIChcclxuICB1bWk6IFVtaSxcclxuICBndWFyZDogR3VhcmRSZXR1cm4sXHJcbiAgY2FuZHlNYWNoaW5lOiBDYW5keU1hY2hpbmUsXHJcbiAgY2FuZHlHdWFyZDogQ2FuZHlHdWFyZCxcclxuICBvd25lZFRva2VuczogRGlnaXRhbEFzc2V0V2l0aFRva2VuW10sXHJcbiAgdG9hc3Q6IChvcHRpb25zOiBPbWl0PFVzZVRvYXN0T3B0aW9ucywgXCJpZFwiPikgPT4gdm9pZCxcclxuICBtaW50c0NyZWF0ZWQ6XHJcbiAgICB8IHtcclxuICAgICAgICBtaW50OiBQdWJsaWNLZXk7XHJcbiAgICAgICAgb2ZmQ2hhaW5NZXRhZGF0YTogSnNvbk1ldGFkYXRhIHwgdW5kZWZpbmVkO1xyXG4gICAgICB9W11cclxuICAgIHwgdW5kZWZpbmVkLFxyXG4gIHNldE1pbnRzQ3JlYXRlZDogRGlzcGF0Y2g8XHJcbiAgICBTZXRTdGF0ZUFjdGlvbjxcclxuICAgICAgfCB7IG1pbnQ6IFB1YmxpY0tleTsgb2ZmQ2hhaW5NZXRhZGF0YTogSnNvbk1ldGFkYXRhIHwgdW5kZWZpbmVkIH1bXVxyXG4gICAgICB8IHVuZGVmaW5lZFxyXG4gICAgPlxyXG4gID4sXHJcbiAgZ3VhcmRMaXN0OiBHdWFyZFJldHVybltdLFxyXG4gIHNldEd1YXJkTGlzdDogRGlzcGF0Y2g8U2V0U3RhdGVBY3Rpb248R3VhcmRSZXR1cm5bXT4+LFxyXG4gIG9uT3BlbjogKCkgPT4gdm9pZCxcclxuICBzZXRDaGVja0VsaWdpYmlsaXR5OiBEaXNwYXRjaDxTZXRTdGF0ZUFjdGlvbjxib29sZWFuPj5cclxuKSA9PiB7XHJcbiAgY29uc3QgZ3VhcmRUb1VzZSA9IGNob29zZUd1YXJkVG9Vc2UoZ3VhcmQsIGNhbmR5R3VhcmQpO1xyXG4gIGlmICghZ3VhcmRUb1VzZS5ndWFyZHMpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJubyBndWFyZCBkZWZpbmVkIVwiKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgdHJ5IHtcclxuICAgIC8vZmluZCB0aGUgZ3VhcmQgYnkgZ3VhcmRUb1VzZS5sYWJlbCBhbmQgc2V0IG1pbnRpbmcgdG8gdHJ1ZVxyXG4gICAgY29uc3QgZ3VhcmRJbmRleCA9IGd1YXJkTGlzdC5maW5kSW5kZXgoKGcpID0+IGcubGFiZWwgPT09IGd1YXJkVG9Vc2UubGFiZWwpO1xyXG4gICAgaWYgKGd1YXJkSW5kZXggPT09IC0xKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJndWFyZCBub3QgZm91bmRcIik7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IG5ld0d1YXJkTGlzdCA9IFsuLi5ndWFyZExpc3RdO1xyXG4gICAgbmV3R3VhcmRMaXN0W2d1YXJkSW5kZXhdLm1pbnRpbmcgPSB0cnVlO1xyXG4gICAgc2V0R3VhcmRMaXN0KG5ld0d1YXJkTGlzdCk7XHJcblxyXG4gICAgbGV0IHJvdXRlQnVpbGQgPSBhd2FpdCByb3V0ZUJ1aWxkZXIodW1pLCBndWFyZFRvVXNlLCBjYW5keU1hY2hpbmUpO1xyXG4gICAgaWYgKCFyb3V0ZUJ1aWxkKSB7XHJcbiAgICAgIHJvdXRlQnVpbGQgPSB0cmFuc2FjdGlvbkJ1aWxkZXIoKTtcclxuICAgIH1cclxuICAgIGNvbnN0IG5mdE1pbnQgPSBnZW5lcmF0ZVNpZ25lcih1bWkpO1xyXG5cclxuICAgIGNvbnN0IG1pbnRBcmdzID0gbWludEFyZ3NCdWlsZGVyKGNhbmR5TWFjaGluZSwgZ3VhcmRUb1VzZSwgb3duZWRUb2tlbnMpO1xyXG4gICAgY29uc3QgdHggPSB0cmFuc2FjdGlvbkJ1aWxkZXIoKS5hZGQoXHJcbiAgICAgIG1pbnRWMih1bWksIHtcclxuICAgICAgICBjYW5keU1hY2hpbmU6IGNhbmR5TWFjaGluZS5wdWJsaWNLZXksXHJcbiAgICAgICAgY29sbGVjdGlvbk1pbnQ6IGNhbmR5TWFjaGluZS5jb2xsZWN0aW9uTWludCxcclxuICAgICAgICBjb2xsZWN0aW9uVXBkYXRlQXV0aG9yaXR5OiBjYW5keU1hY2hpbmUuYXV0aG9yaXR5LFxyXG4gICAgICAgIG5mdE1pbnQsXHJcbiAgICAgICAgZ3JvdXA6IGd1YXJkVG9Vc2UubGFiZWwgPT09IFwiZGVmYXVsdFwiID8gbm9uZSgpIDogc29tZShndWFyZFRvVXNlLmxhYmVsKSxcclxuICAgICAgICBjYW5keUd1YXJkOiBjYW5keUd1YXJkLnB1YmxpY0tleSxcclxuICAgICAgICBtaW50QXJncyxcclxuICAgICAgICB0b2tlblN0YW5kYXJkOiBjYW5keU1hY2hpbmUudG9rZW5TdGFuZGFyZCxcclxuICAgICAgfSlcclxuICAgICk7XHJcbiAgICBjb25zdCBncm91cGVkVHggPSBhd2FpdCBjb21iaW5lVHJhbnNhY3Rpb25zKHVtaSwgW3JvdXRlQnVpbGQsIHR4XSwgdG9hc3QpO1xyXG4gICAgaWYgKCFncm91cGVkVHggfHwgZ3JvdXBlZFR4Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwibm8gdHJhbnNhY3Rpb24gdG8gc2VuZFwiKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBsYXN0U2lnbmF0dXJlOiBVaW50OEFycmF5IHwgdW5kZWZpbmVkO1xyXG4gICAgaWYgKGdyb3VwZWRUeC5sZW5ndGggPiAxKSB7XHJcbiAgICAgIGxldCBjb3VudGVyID0gMDtcclxuICAgICAgZm9yIChsZXQgdHggb2YgZ3JvdXBlZFR4KSB7XHJcbiAgICAgICAgdHggPSB0eC5wcmVwZW5kKHNldENvbXB1dGVVbml0TGltaXQodW1pLCB7IHVuaXRzOiA4MDBfMDAwIH0pKTtcclxuICAgICAgICBjb25zdCB7IHNpZ25hdHVyZSB9ID0gYXdhaXQgdHguc2VuZEFuZENvbmZpcm0odW1pLCB7XHJcbiAgICAgICAgICBjb25maXJtOiB7IGNvbW1pdG1lbnQ6IFwicHJvY2Vzc2VkXCIgfSxcclxuICAgICAgICAgIHNlbmQ6IHtcclxuICAgICAgICAgICAgc2tpcFByZWZsaWdodDogdHJ1ZSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGFzdFNpZ25hdHVyZSA9IHNpZ25hdHVyZTtcclxuICAgICAgICBpZiAoY291bnRlciA8IGdyb3VwZWRUeC5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICB1cGRhdGVMb2FkaW5nVGV4dChcclxuICAgICAgICAgICAgYFRyYW5zYWN0aW9uICR7Y291bnRlcn0vJHtncm91cGVkVHgubGVuZ3RofWAsXHJcbiAgICAgICAgICAgIGd1YXJkTGlzdCxcclxuICAgICAgICAgICAgZ3VhcmRUb1VzZS5sYWJlbCxcclxuICAgICAgICAgICAgc2V0R3VhcmRMaXN0XHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgdG9hc3Qoe1xyXG4gICAgICAgICAgICB0aXRsZTogYFRyYW5zYWN0aW9uICR7Y291bnRlcn0vJHtncm91cGVkVHgubGVuZ3RofSBzdWNjZXNzZnVsIWAsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgUGxlYXNlIHNpZ24gdGhlIG5leHQuLi5gLFxyXG4gICAgICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogOTAwMDAsXHJcbiAgICAgICAgICAgIGlzQ2xvc2FibGU6IHRydWUsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHVwZGF0ZUxvYWRpbmdUZXh0KFxyXG4gICAgICAgIGBQbGVhc2Ugc2lnbmAsXHJcbiAgICAgICAgZ3VhcmRMaXN0LFxyXG4gICAgICAgIGd1YXJkVG9Vc2UubGFiZWwsXHJcbiAgICAgICAgc2V0R3VhcmRMaXN0XHJcbiAgICAgICk7XHJcbiAgICAgIGxldCB0eCA9IGdyb3VwZWRUeFswXS5wcmVwZW5kKFxyXG4gICAgICAgIHNldENvbXB1dGVVbml0TGltaXQodW1pLCB7IHVuaXRzOiA4MDBfMDAwIH0pXHJcbiAgICAgICk7XHJcbiAgICAgIGNvbnN0IHsgc2lnbmF0dXJlIH0gPSBhd2FpdCB0eC5zZW5kQW5kQ29uZmlybSh1bWksIHtcclxuICAgICAgICBjb25maXJtOiB7IGNvbW1pdG1lbnQ6IFwicHJvY2Vzc2VkXCIgfSxcclxuICAgICAgICBzZW5kOiB7XHJcbiAgICAgICAgICBza2lwUHJlZmxpZ2h0OiB0cnVlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgICBsYXN0U2lnbmF0dXJlID0gc2lnbmF0dXJlO1xyXG4gICAgfVxyXG4gICAgaWYgKCFsYXN0U2lnbmF0dXJlKSB7XHJcbiAgICAgIC8vIHRocm93IGVycm9yIHRoYXQgbm8gdHggd2FzIGNyZWF0ZWRcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm8gdHggd2FzIGNyZWF0ZWRcIik7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVMb2FkaW5nVGV4dChcclxuICAgICAgYEZpbmFsaXppbmcgdHJhbnNhY3Rpb25gLFxyXG4gICAgICBndWFyZExpc3QsXHJcbiAgICAgIGd1YXJkVG9Vc2UubGFiZWwsXHJcbiAgICAgIHNldEd1YXJkTGlzdFxyXG4gICAgKTtcclxuXHJcbiAgICAvL2xvb3AgdW1pLnJwYy5nZXRUcmFuc2FjdGlvbihsYXN0U2lnbmF0dXJlKSB1bnRpbCBpdCBkb2VzIG5vdCByZXR1cm4gbnVsbC4gU2xlZXAgMSBzZWNvbmQgYmV0d2VlbiBlYWNoIHRyeS5cclxuICAgIGxldCB0cmFuc2FjdGlvbjogVHJhbnNhY3Rpb25XaXRoTWV0YSB8IG51bGwgPSBudWxsO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzMDsgaSsrKSB7XHJcbiAgICAgIHRyYW5zYWN0aW9uID0gYXdhaXQgdW1pLnJwYy5nZXRUcmFuc2FjdGlvbihsYXN0U2lnbmF0dXJlKTtcclxuICAgICAgaWYgKHRyYW5zYWN0aW9uKSB7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCkpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRyYW5zYWN0aW9uID09PSBudWxsKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgbm8gdHggb24gY2hhaW4gZm9yIHNpZ25hdHVyZSAke2xhc3RTaWduYXR1cmV9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbG9nczogc3RyaW5nW10gPSB0cmFuc2FjdGlvbi5tZXRhLmxvZ3M7XHJcbiAgICBpZiAoIWRldGVjdEJvdFRheChsb2dzKSkge1xyXG4gICAgICB0b2FzdCh7XHJcbiAgICAgICAgdGl0bGU6IFwiTWludCBzdWNjZXNzZnVsIVwiLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBgWW91IGNhbiBmaW5kIHlvdXIgTkZUIGluIHlvdXIgd2FsbGV0LmAsXHJcbiAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcclxuICAgICAgICBkdXJhdGlvbjogOTAwMDAsXHJcbiAgICAgICAgaXNDbG9zYWJsZTogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlTG9hZGluZ1RleHQoXHJcbiAgICAgIFwiRmV0Y2hpbmcgeW91ciBORlRcIixcclxuICAgICAgZ3VhcmRMaXN0LFxyXG4gICAgICBndWFyZFRvVXNlLmxhYmVsLFxyXG4gICAgICBzZXRHdWFyZExpc3RcclxuICAgICk7XHJcbiAgICBjb25zdCBmZXRjaGVkTmZ0ID0gYXdhaXQgZmV0Y2hOZnQodW1pLCBuZnRNaW50LnB1YmxpY0tleSwgdG9hc3QpO1xyXG4gICAgaWYgKGZldGNoZWROZnQuZGlnaXRhbEFzc2V0ICYmIGZldGNoZWROZnQuanNvbk1ldGFkYXRhKSB7XHJcbiAgICAgIGlmIChtaW50c0NyZWF0ZWQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHNldE1pbnRzQ3JlYXRlZChbXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIG1pbnQ6IG5mdE1pbnQucHVibGljS2V5LFxyXG4gICAgICAgICAgICBvZmZDaGFpbk1ldGFkYXRhOiBmZXRjaGVkTmZ0Lmpzb25NZXRhZGF0YSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgXSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2V0TWludHNDcmVhdGVkKFtcclxuICAgICAgICAgIC4uLm1pbnRzQ3JlYXRlZCxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgbWludDogbmZ0TWludC5wdWJsaWNLZXksXHJcbiAgICAgICAgICAgIG9mZkNoYWluTWV0YWRhdGE6IGZldGNoZWROZnQuanNvbk1ldGFkYXRhLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICBdKTtcclxuICAgICAgfVxyXG4gICAgICAvL29uT3BlbigpO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoYG1pbnRpbmcgZmFpbGVkIGJlY2F1c2Ugb2YgJHtlfWApO1xyXG5cclxuICAgIHRvYXN0KHtcclxuICAgICAgdGl0bGU6IFwiWW91ciBtaW50IGZhaWxlZCFcIixcclxuICAgICAgZGVzY3JpcHRpb246IFwiUGxlYXNlIHRyeSBhZ2Fpbi5cIixcclxuICAgICAgc3RhdHVzOiBcImVycm9yXCIsXHJcbiAgICAgIGR1cmF0aW9uOiA5MDAwLFxyXG4gICAgICBpc0Nsb3NhYmxlOiB0cnVlLFxyXG4gICAgfSk7XHJcbiAgfSBmaW5hbGx5IHtcclxuICAgIC8vZmluZCB0aGUgZ3VhcmQgYnkgZ3VhcmRUb1VzZS5sYWJlbCBhbmQgc2V0IG1pbnRpbmcgdG8gdHJ1ZVxyXG4gICAgY29uc3QgZ3VhcmRJbmRleCA9IGd1YXJkTGlzdC5maW5kSW5kZXgoKGcpID0+IGcubGFiZWwgPT09IGd1YXJkVG9Vc2UubGFiZWwpO1xyXG4gICAgaWYgKGd1YXJkSW5kZXggPT09IC0xKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJndWFyZCBub3QgZm91bmRcIik7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IG5ld0d1YXJkTGlzdCA9IFsuLi5ndWFyZExpc3RdO1xyXG4gICAgbmV3R3VhcmRMaXN0W2d1YXJkSW5kZXhdLm1pbnRpbmcgPSBmYWxzZTtcclxuICAgIHNldEd1YXJkTGlzdChuZXdHdWFyZExpc3QpO1xyXG4gICAgc2V0Q2hlY2tFbGlnaWJpbGl0eSh0cnVlKTtcclxuICAgIHVwZGF0ZUxvYWRpbmdUZXh0KHVuZGVmaW5lZCwgZ3VhcmRMaXN0LCBndWFyZFRvVXNlLmxhYmVsLCBzZXRHdWFyZExpc3QpO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIG5ldyBjb21wb25lbnQgY2FsbGVkIHRpbWVyIHRoYXQgY2FsY3VsYXRlcyB0aGUgcmVtYWluaW5nIFRpbWUgYmFzZWQgb24gdGhlIGJpZ2ludCBzb2xhbmEgdGltZSBhbmQgdGhlIGJpZ2ludCB0b1RpbWUgZGlmZmVyZW5jZS5cclxuY29uc3QgVGltZXIgPSAoe1xyXG4gIHNvbGFuYVRpbWUsXHJcbiAgdG9UaW1lLFxyXG4gIHNldENoZWNrRWxpZ2liaWxpdHksXHJcbn06IHtcclxuICBzb2xhbmFUaW1lOiBiaWdpbnQ7XHJcbiAgdG9UaW1lOiBiaWdpbnQ7XHJcbiAgc2V0Q2hlY2tFbGlnaWJpbGl0eTogRGlzcGF0Y2g8U2V0U3RhdGVBY3Rpb248Ym9vbGVhbj4+O1xyXG59KSA9PiB7XHJcbiAgY29uc3QgW3JlbWFpbmluZ1RpbWUsIHNldFJlbWFpbmluZ1RpbWVdID0gdXNlU3RhdGU8YmlnaW50PihcclxuICAgIHRvVGltZSAtIHNvbGFuYVRpbWVcclxuICApO1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgc2V0UmVtYWluaW5nVGltZSgocHJldikgPT4ge1xyXG4gICAgICAgIHJldHVybiBwcmV2IC0gQmlnSW50KDEpO1xyXG4gICAgICB9KTtcclxuICAgIH0sIDEwMDApO1xyXG4gICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy9jb252ZXJ0IHRoZSByZW1haW5pbmcgdGltZSBpbiBzZWNvbmRzIHRvIHRoZSBhbW91bnQgb2YgZGF5cywgaG91cnMsIG1pbnV0ZXMgYW5kIHNlY29uZHMgbGVmdFxyXG4gIGNvbnN0IGRheXMgPSByZW1haW5pbmdUaW1lIC8gQmlnSW50KDg2NDAwKTtcclxuICBjb25zdCBob3VycyA9IChyZW1haW5pbmdUaW1lICUgQmlnSW50KDg2NDAwKSkgLyBCaWdJbnQoMzYwMCk7XHJcbiAgY29uc3QgbWludXRlcyA9IChyZW1haW5pbmdUaW1lICUgQmlnSW50KDM2MDApKSAvIEJpZ0ludCg2MCk7XHJcbiAgY29uc3Qgc2Vjb25kcyA9IHJlbWFpbmluZ1RpbWUgJSBCaWdJbnQoNjApO1xyXG4gIGlmIChkYXlzID4gQmlnSW50KDApKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8VGV4dCBmb250U2l6ZT1cInNtXCIgZm9udFdlaWdodD1cImJvbGRcIiBkaXNwbGF5PVwiZmxleFwiPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRpbWVyLWRldGFpbHNcIj5cclxuICAgICAgICAgIHtkYXlzLnRvTG9jYWxlU3RyaW5nKFwiZW4tVVNcIiwge1xyXG4gICAgICAgICAgICBtaW5pbXVtSW50ZWdlckRpZ2l0czogMixcclxuICAgICAgICAgICAgdXNlR3JvdXBpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgfSl9XHJcbiAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRpbWVyLWRldGFpbHNcIj5cclxuICAgICAgICAgIHtob3Vycy50b0xvY2FsZVN0cmluZyhcImVuLVVTXCIsIHtcclxuICAgICAgICAgICAgbWluaW11bUludGVnZXJEaWdpdHM6IDIsXHJcbiAgICAgICAgICAgIHVzZUdyb3VwaW5nOiBmYWxzZSxcclxuICAgICAgICAgIH0pfVxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0aW1lci1kZXRhaWxzXCI+XHJcbiAgICAgICAgICB7bWludXRlcy50b0xvY2FsZVN0cmluZyhcImVuLVVTXCIsIHtcclxuICAgICAgICAgICAgbWluaW11bUludGVnZXJEaWdpdHM6IDIsXHJcbiAgICAgICAgICAgIHVzZUdyb3VwaW5nOiBmYWxzZSxcclxuICAgICAgICAgIH0pfVxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0aW1lci1kZXRhaWxzXCI+XHJcbiAgICAgICAgICB7c2Vjb25kcy50b0xvY2FsZVN0cmluZyhcImVuLVVTXCIsIHtcclxuICAgICAgICAgICAgbWluaW11bUludGVnZXJEaWdpdHM6IDIsXHJcbiAgICAgICAgICAgIHVzZUdyb3VwaW5nOiBmYWxzZSxcclxuICAgICAgICAgIH0pfVxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgICAgPC9UZXh0PlxyXG4gICAgKTtcclxuICB9XHJcbiAgaWYgKGhvdXJzID4gQmlnSW50KDApKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8VGV4dCBmb250U2l6ZT1cInNtXCIgZm9udFdlaWdodD1cImJvbGRcIiBkaXNwbGF5PVwiZmxleFwiPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRpbWVyLWRldGFpbHNcIj5cclxuICAgICAgICAgIHtob3Vycy50b0xvY2FsZVN0cmluZyhcImVuLVVTXCIsIHtcclxuICAgICAgICAgICAgbWluaW11bUludGVnZXJEaWdpdHM6IDIsXHJcbiAgICAgICAgICAgIHVzZUdyb3VwaW5nOiBmYWxzZSxcclxuICAgICAgICAgIH0pfVxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0aW1lci1kZXRhaWxzXCI+XHJcbiAgICAgICAgICB7bWludXRlcy50b0xvY2FsZVN0cmluZyhcImVuLVVTXCIsIHtcclxuICAgICAgICAgICAgbWluaW11bUludGVnZXJEaWdpdHM6IDIsXHJcbiAgICAgICAgICAgIHVzZUdyb3VwaW5nOiBmYWxzZSxcclxuICAgICAgICAgIH0pfVxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0aW1lci1kZXRhaWxzXCI+XHJcbiAgICAgICAgICB7c2Vjb25kcy50b0xvY2FsZVN0cmluZyhcImVuLVVTXCIsIHtcclxuICAgICAgICAgICAgbWluaW11bUludGVnZXJEaWdpdHM6IDIsXHJcbiAgICAgICAgICAgIHVzZUdyb3VwaW5nOiBmYWxzZSxcclxuICAgICAgICAgIH0pfVxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgICAgPC9UZXh0PlxyXG4gICAgKTtcclxuICB9XHJcbiAgaWYgKG1pbnV0ZXMgPiBCaWdJbnQoMCkgfHwgc2Vjb25kcyA+IEJpZ0ludCgwKSkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPFRleHQgZm9udFNpemU9XCJzbVwiIGZvbnRXZWlnaHQ9XCJib2xkXCIgZGlzcGxheT1cImZsZXhcIj5cclxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0aW1lci1kZXRhaWxzXCI+XHJcbiAgICAgICAgICB7bWludXRlcy50b0xvY2FsZVN0cmluZyhcImVuLVVTXCIsIHtcclxuICAgICAgICAgICAgbWluaW11bUludGVnZXJEaWdpdHM6IDIsXHJcbiAgICAgICAgICAgIHVzZUdyb3VwaW5nOiBmYWxzZSxcclxuICAgICAgICAgIH0pfVxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0aW1lci1kZXRhaWxzXCI+XHJcbiAgICAgICAgICB7c2Vjb25kcy50b0xvY2FsZVN0cmluZyhcImVuLVVTXCIsIHtcclxuICAgICAgICAgICAgbWluaW11bUludGVnZXJEaWdpdHM6IDIsXHJcbiAgICAgICAgICAgIHVzZUdyb3VwaW5nOiBmYWxzZSxcclxuICAgICAgICAgIH0pfVxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgICAgPC9UZXh0PlxyXG4gICAgKTtcclxuICB9XHJcbiAgaWYgKHJlbWFpbmluZ1RpbWUgPT09IEJpZ0ludCgwKSkge1xyXG4gICAgc2V0Q2hlY2tFbGlnaWJpbGl0eSh0cnVlKTtcclxuICB9XHJcbiAgcmV0dXJuIDxUZXh0PjwvVGV4dD47XHJcbn07XHJcblxyXG50eXBlIFByb3BzID0ge1xyXG4gIHVtaTogVW1pO1xyXG4gIGd1YXJkTGlzdDogR3VhcmRSZXR1cm5bXTtcclxuICBjYW5keU1hY2hpbmU6IENhbmR5TWFjaGluZSB8IHVuZGVmaW5lZDtcclxuICBjYW5keUd1YXJkOiBDYW5keUd1YXJkIHwgdW5kZWZpbmVkO1xyXG4gIG93bmVkVG9rZW5zOiBEaWdpdGFsQXNzZXRXaXRoVG9rZW5bXSB8IHVuZGVmaW5lZDtcclxuICB0b2FzdDogKG9wdGlvbnM6IE9taXQ8VXNlVG9hc3RPcHRpb25zLCBcImlkXCI+KSA9PiB2b2lkO1xyXG4gIHNldEd1YXJkTGlzdDogRGlzcGF0Y2g8U2V0U3RhdGVBY3Rpb248R3VhcmRSZXR1cm5bXT4+O1xyXG4gIG1pbnRzQ3JlYXRlZDpcclxuICAgIHwge1xyXG4gICAgICAgIG1pbnQ6IFB1YmxpY0tleTtcclxuICAgICAgICBvZmZDaGFpbk1ldGFkYXRhOiBKc29uTWV0YWRhdGEgfCB1bmRlZmluZWQ7XHJcbiAgICAgIH1bXVxyXG4gICAgfCB1bmRlZmluZWQ7XHJcbiAgc2V0TWludHNDcmVhdGVkOiBEaXNwYXRjaDxcclxuICAgIFNldFN0YXRlQWN0aW9uPFxyXG4gICAgICB8IHsgbWludDogUHVibGljS2V5OyBvZmZDaGFpbk1ldGFkYXRhOiBKc29uTWV0YWRhdGEgfCB1bmRlZmluZWQgfVtdXHJcbiAgICAgIHwgdW5kZWZpbmVkXHJcbiAgICA+XHJcbiAgPjtcclxuICBvbk9wZW46ICgpID0+IHZvaWQ7XHJcbiAgc2V0Q2hlY2tFbGlnaWJpbGl0eTogRGlzcGF0Y2g8U2V0U3RhdGVBY3Rpb248Ym9vbGVhbj4+O1xyXG59O1xyXG5mdW5jdGlvbiBmaW5kTWludExpbWl0KGRhdGE6IGFueSwgdGFyZ2V0TGFiZWw6IHN0cmluZykge1xyXG4gIC8vIEl0ZXJhdGUgb3ZlciBlYWNoIGdyb3VwIGluIHRoZSBkYXRhXHJcbiAgZm9yIChjb25zdCBncm91cCBvZiBkYXRhLmdyb3Vwcykge1xyXG4gICAgLy8gQ2hlY2sgaWYgdGhlIGN1cnJlbnQgZ3JvdXAgaGFzIHRoZSB0YXJnZXQgbGFiZWxcclxuICAgIGlmIChncm91cC5sYWJlbCA9PT0gdGFyZ2V0TGFiZWwpIHtcclxuICAgICAgLy8gQ2hlY2sgaWYgc29sIHBheW1lbnQgZXhpc3RzIGluIHRoZSBjdXJyZW50IGdyb3VcclxuICAgICAgaWYgKGdyb3VwLmd1YXJkc1tcIm1pbnRMaW1pdFwiXSkge1xyXG4gICAgICAgIC8vIEV4dHJhY3QgdGhlIGxpbWl0IGFuZCBzZW5kIGl0IGJhY2t0XHJcbiAgICAgICAgaWYgKGdyb3VwLmd1YXJkc1tcIm1pbnRMaW1pdFwiXT8udmFsdWU/LmxpbWl0KVxyXG4gICAgICAgICAgcmV0dXJuIGdyb3VwLmd1YXJkc1tcIm1pbnRMaW1pdFwiXS52YWx1ZS5saW1pdDtcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiBcIlVOTElNSVRFRFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBSZXR1cm4gMCBpZiB0aGVyZSBpcyBubyBsaW1pdFxyXG4gICAgICAgIHJldHVybiAtMTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gUmV0dXJuIG51bGwgaWYgdGhlIHRhcmdldCBsYWJlbCBpcyBub3QgZm91bmQgaW4gYW55IGdyb3VwXHJcbiAgcmV0dXJuIG51bGw7XHJcbn1cclxuZnVuY3Rpb24gZmluZE1pbnRlZEJ5WW91KGRhdGE6IGFueSwgdGFyZ2V0TGFiZWw6IHN0cmluZykge1xyXG4gIC8vIEl0ZXJhdGUgb3ZlciBlYWNoIGdyb3VwIGluIHRoZSBkYXRhXHJcbiAgZm9yIChjb25zdCBncm91cCBvZiBkYXRhLmdyb3Vwcykge1xyXG4gICAgLy8gQ2hlY2sgaWYgdGhlIGN1cnJlbnQgZ3JvdXAgaGFzIHRoZSB0YXJnZXQgbGFiZWxcclxuICAgIGlmIChncm91cC5sYWJlbCA9PT0gdGFyZ2V0TGFiZWwpIHtcclxuICAgICAgLy8gQ2hlY2sgaWYgc29sIHBheW1lbnQgZXhpc3RzIGluIHRoZSBjdXJyZW50IGdyb3VwXHJcbiAgICAgIGlmIChncm91cC5ndWFyZHNbXCJyZWRlZW1lZEFtb3VudFwiXSkge1xyXG4gICAgICAgIC8vIEV4dHJhY3QgdGhlIGxpbWl0IGFuZCBzZW5kIGl0IGJhY2t0XHJcbiAgICAgICAgaWYgKGdyb3VwLmd1YXJkc1tcInJlZGVlbWVkQW1vdW50XCJdID09IDMpXHJcbiAgICAgICAgICByZXR1cm4gZ3JvdXAuZ3VhcmRzW1wicmVkZWVtZWRBbW91bnRcIl07XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gXCJVTkxJTUlURURcIjtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gUmV0dXJuIDAgaWYgdGhlcmUgaXMgbm8gbGltaXRcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gUmV0dXJuIG51bGwgaWYgdGhlIHRhcmdldCBsYWJlbCBpcyBub3QgZm91bmQgaW4gYW55IGdyb3VwXHJcbiAgcmV0dXJuIG51bGw7XHJcbn1cclxuZnVuY3Rpb24gZmluZFNvbFBheW1lbnRQcmljZShkYXRhOiBhbnksIHRhcmdldExhYmVsOiBzdHJpbmcpIHtcclxuICAvLyBJdGVyYXRlIG92ZXIgZWFjaCBncm91cCBpbiB0aGUgZGF0YVxyXG4gIGZvciAoY29uc3QgZ3JvdXAgb2YgZGF0YS5ncm91cHMpIHtcclxuICAgIC8vIENoZWNrIGlmIHRoZSBjdXJyZW50IGdyb3VwIGhhcyB0aGUgdGFyZ2V0IGxhYmVsXHJcbiAgICBpZiAoZ3JvdXAubGFiZWwgPT09IHRhcmdldExhYmVsKSB7XHJcbiAgICAgIC8vIENoZWNrIGlmIHNvbCBwYXltZW50IGV4aXN0cyBpbiB0aGUgY3VycmVudCBncm91cFxyXG4gICAgICBpZiAoZ3JvdXAuZ3VhcmRzW1wic29sUGF5bWVudFwiXSkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwibWF0Y2hlZCBndWFyZCBwcmljZVwiLE51bWJlcihncm91cC5ndWFyZHNbJ3NvbFBheW1lbnQnXS52YWx1ZS5sYW1wb3J0cy5iYXNpc1BvaW50cykvMWU5KVxyXG5cclxuICAgICAgICAvLyBFeHRyYWN0IGFuZCByZXR1cm4gdGhlIGxhbXBvcnRzIHZhbHVlIGZvciBzb2wgcGF5bWVudFxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICBOdW1iZXIoZ3JvdXAuZ3VhcmRzW1wic29sUGF5bWVudFwiXS52YWx1ZS5sYW1wb3J0cy5iYXNpc1BvaW50cykgLyAxZTlcclxuICAgICAgICApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIFJldHVybiBudWxsIGlmIHNvbCBwYXltZW50IGlzIG5vdCBmb3VuZCBpbiB0aGUgY3VycmVudCBncm91cFxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBSZXR1cm4gbnVsbCBpZiB0aGUgdGFyZ2V0IGxhYmVsIGlzIG5vdCBmb3VuZCBpbiBhbnkgZ3JvdXBcclxuICByZXR1cm4gbnVsbDtcclxufVxyXG50eXBlIE51bWJlck9mTmZ0c1N0YXRlID0gUmVjb3JkPHN0cmluZywgbnVtYmVyPjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBCdXR0b25MaXN0KHtcclxuICB1bWksXHJcbiAgZ3VhcmRMaXN0LFxyXG4gIGNhbmR5TWFjaGluZSxcclxuICBjYW5keUd1YXJkLFxyXG4gIG93bmVkVG9rZW5zID0gW10sIC8vIHByb3ZpZGUgZGVmYXVsdCBlbXB0eSBhcnJheVxyXG4gIHRvYXN0LFxyXG4gIHNldEd1YXJkTGlzdCxcclxuICBtaW50c0NyZWF0ZWQsXHJcbiAgc2V0TWludHNDcmVhdGVkLFxyXG4gIG9uT3BlbixcclxuICBzZXRDaGVja0VsaWdpYmlsaXR5LFxyXG59OiBQcm9wcyk6IEpTWC5FbGVtZW50IHtcclxuICBjb25zdCBzb2xhbmFUaW1lID0gdXNlU29sYW5hVGltZSgpO1xyXG4gIGNvbnN0IFtpc1NtYWxsZXJUaGFuMTEwMHB4XSA9IHVzZU1lZGlhUXVlcnkoXCIobWF4LXdpZHRoOiAxMTAwcHgpXCIpO1xyXG4gIGNvbnN0IFtpc1NtYWxsZXJUaGFuNjUwcHhdID0gdXNlTWVkaWFRdWVyeShcIihtYXgtd2lkdGg6IDY1MHB4KVwiKTtcclxuICBjb25zdCBbbnVtYmVyT2ZOZnRzLCBzZXROdW1iZXJPZk5mdHNdID0gdXNlU3RhdGU8TnVtYmVyT2ZOZnRzU3RhdGU+KHt9KTtcclxuXHJcblxyXG4gIGlmICghY2FuZHlNYWNoaW5lIHx8ICFjYW5keUd1YXJkKSB7XHJcbiAgICByZXR1cm4gPD48Lz47XHJcbiAgfVxyXG4gIGxldCBmaWx0ZXJlZEd1YXJkbGlzdCA9IGd1YXJkTGlzdC5maWx0ZXIoXHJcbiAgICAoZWxlbSwgaW5kZXgsIHNlbGYpID0+XHJcbiAgICAgIGluZGV4ID09PSBzZWxmLmZpbmRJbmRleCgodCkgPT4gdC5sYWJlbCA9PT0gZWxlbS5sYWJlbClcclxuICApO1xyXG4gIGlmIChmaWx0ZXJlZEd1YXJkbGlzdC5sZW5ndGggPT09IDApIHtcclxuICAgIHJldHVybiA8PjwvPjtcclxuICB9XHJcbiAgLy8gR3VhcmQgXCJkZWZhdWx0XCIgY2FuIG9ubHkgYmUgdXNlZCB0byBtaW50IGluIGNhc2Ugbm8gb3RoZXIgZ3VhcmQgZXhpc3RzXHJcbiAgaWYgKGZpbHRlcmVkR3VhcmRsaXN0Lmxlbmd0aCA+IDEpIHtcclxuICAgIGZpbHRlcmVkR3VhcmRsaXN0ID0gZ3VhcmRMaXN0LmZpbHRlcigoZWxlbSkgPT4gZWxlbS5sYWJlbCAhPSBcImRlZmF1bHRcIik7XHJcbiAgfVxyXG4gIGxldCBidXR0b25HdWFyZExpc3QgPSBbXTtcclxuICBmb3IgKGNvbnN0IGd1YXJkIG9mIGZpbHRlcmVkR3VhcmRsaXN0KSB7XHJcbiAgICBjb25zdCB0ZXh0ID0gbWludFRleHQuZmluZCgoZWxlbSkgPT4gZWxlbS5sYWJlbCA9PT0gZ3VhcmQubGFiZWwpO1xyXG4gICAgLy8gZmluZCBndWFyZCBieSBsYWJlbCBpbiBjYW5keUd1YXJkXHJcbiAgICBjb25zdCBncm91cCA9IGNhbmR5R3VhcmQuZ3JvdXBzLmZpbmQoKGVsZW0pID0+IGVsZW0ubGFiZWwgPT09IGd1YXJkLmxhYmVsKTtcclxuICAgIGxldCBzdGFydFRpbWUgPSBjcmVhdGVCaWdJbnQoMCk7XHJcbiAgICBsZXQgZW5kVGltZSA9IGNyZWF0ZUJpZ0ludCgwKTtcclxuICAgIGlmIChncm91cCkge1xyXG4gICAgICBpZiAoZ3JvdXAuZ3VhcmRzLnN0YXJ0RGF0ZS5fX29wdGlvbiA9PT0gXCJTb21lXCIpIHtcclxuICAgICAgICBzdGFydFRpbWUgPSBncm91cC5ndWFyZHMuc3RhcnREYXRlLnZhbHVlLmRhdGU7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGdyb3VwLmd1YXJkcy5lbmREYXRlLl9fb3B0aW9uID09PSBcIlNvbWVcIikge1xyXG4gICAgICAgIGVuZFRpbWUgPSBncm91cC5ndWFyZHMuZW5kRGF0ZS52YWx1ZS5kYXRlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGJ1dHRvbkVsZW1lbnQ6IEd1YXJkQnV0dG9uTGlzdCA9IHtcclxuICAgICAgbGFiZWw6IGd1YXJkID8gZ3VhcmQubGFiZWwgOiBcImRlZmF1bHRcIixcclxuICAgICAgYWxsb3dlZDogZ3VhcmQuYWxsb3dlZCxcclxuICAgICAgbWludGVkQnlZb3U6XHJcbiAgICAgICAgZmluZE1pbnRlZEJ5WW91KGNhbmR5R3VhcmQsIGd1YXJkID8gZ3VhcmQubGFiZWwgOiBcImRlZmF1bHRcIikgfHxcclxuICAgICAgICBcIlNvbWV0aGluZyB3ZW50IHdyb25nXCIsXHJcbiAgICAgIG1pbnRMaW1pdDpcclxuICAgICAgICBmaW5kTWludExpbWl0KGNhbmR5R3VhcmQsIGd1YXJkID8gZ3VhcmQubGFiZWwgOiBcImRlZmF1bHRcIikgfHxcclxuICAgICAgICBcIlNvbWV0aGluZyB3ZW50IHdyb25nXCIsXHJcbiAgICAgIHByaWNlOlxyXG4gICAgICAgIGZpbmRTb2xQYXltZW50UHJpY2UoY2FuZHlHdWFyZCwgZ3VhcmQgPyBndWFyZC5sYWJlbCA6IFwiZGVmYXVsdFwiKSB8fCAtMSxcclxuICAgICAgaGVhZGVyOiB0ZXh0ID8gdGV4dC5oZWFkZXIgOiBcImhlYWRlciBtaXNzaW5nIGluIHNldHRpbmdzLnRzeFwiLFxyXG4gICAgICBtaW50VGV4dDogdGV4dCA/IHRleHQubWludFRleHQgOiBcIm1pbnRUZXh0IG1pc3NpbmcgaW4gc2V0dGluZ3MudHN4XCIsXHJcbiAgICAgIGJ1dHRvbkxhYmVsOiB0ZXh0XHJcbiAgICAgICAgPyB0ZXh0LmJ1dHRvbkRpc2FibGVkTGFiZWxcclxuICAgICAgICA6IFwiYnV0dG9uRGlzYWJsZWRMYWJlbCBtaXNzaW5nIGluIHNldHRpbmdzLnRzeFwiLFxyXG4gICAgICBidXR0b25EaXNhYmxlZExhYmVsOiBcIlwiLFxyXG4gICAgICBzdGFydFRpbWUsXHJcbiAgICAgIGVuZFRpbWUsXHJcbiAgICAgIHRvb2x0aXA6IGd1YXJkLnJlYXNvbixcclxuICAgICAgZ2F0ZUtlZXBlck5ldHdvcms6IGdyb3VwPy5ndWFyZHMuZ2F0ZWtlZXBlci5fX29wdGlvbiB8fCBcIlwiLFxyXG4gICAgfTtcclxuICAgIGJ1dHRvbkd1YXJkTGlzdC5wdXNoKGJ1dHRvbkVsZW1lbnQpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgbGlzdEl0ZW1zID0gYnV0dG9uR3VhcmRMaXN0Lm1hcCgoYnV0dG9uR3VhcmQsIGluZGV4KSA9PiAoXHJcbiAgICA8Qm94XHJcbiAgICAgIGtleT17aW5kZXh9XHJcbiAgICAgIHBhZGRpbmc9e2lzU21hbGxlclRoYW42NTBweCA/IFwiMC4yNXJlbVwiIDogXCIxcmVtXCJ9XHJcbiAgICAgIG1hcmdpblRvcD17XCIyMHB4XCJ9XHJcbiAgICAgIGJvcmRlcj1cIjFweCBzb2xpZCAjZmZmXCJcclxuICAgICAgd2lkdGg9XCIxMDAlXCJcclxuICAgICAgYm9yZGVyUmFkaXVzPVwiNHB4XCJcclxuICAgICAgY29sb3I9XCJ3aGl0ZVwiXHJcbiAgICA+XHJcbiAgICAgIDxIU3RhY2sgbWFyZ2luQm90dG9tPVwiMTJweFwiIG1hcmdpbj1cIi43NXJlbVwiPlxyXG4gICAgICAgIDxIZWFkaW5nXHJcbiAgICAgICAgICBzaXplPXtpc1NtYWxsZXJUaGFuNjUwcHggPyBcInNtXCIgOiBcIm1kXCJ9XHJcbiAgICAgICAgICB0ZXh0VHJhbnNmb3JtPVwidXBwZXJjYXNlXCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICB7YnV0dG9uR3VhcmQuaGVhZGVyfVxyXG4gICAgICAgIDwvSGVhZGluZz5cclxuICAgICAgICA8RmxleCBqdXN0aWZ5Q29udGVudD1cImZsZXgtZW5kXCIgbWFyZ2luTGVmdD1cImF1dG9cIj5cclxuICAgICAgICAgIHtidXR0b25HdWFyZC5lbmRUaW1lID4gY3JlYXRlQmlnSW50KDApICYmXHJcbiAgICAgICAgICAgIGJ1dHRvbkd1YXJkLmVuZFRpbWUgLSBzb2xhbmFUaW1lID4gY3JlYXRlQmlnSW50KDApICYmXHJcbiAgICAgICAgICAgICghYnV0dG9uR3VhcmQuc3RhcnRUaW1lIHx8XHJcbiAgICAgICAgICAgICAgYnV0dG9uR3VhcmQuc3RhcnRUaW1lIC0gc29sYW5hVGltZSA8PSBjcmVhdGVCaWdJbnQoMCkpICYmIChcclxuICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgPFRleHQgZm9udFNpemU9XCJtZFwiIG1hcmdpblJpZ2h0PXtcIjJcIn0+XHJcbiAgICAgICAgICAgICAgICAgIEVuZGluZyBpbjp7XCIgXCJ9XHJcbiAgICAgICAgICAgICAgICA8L1RleHQ+XHJcbiAgICAgICAgICAgICAgICA8VGltZXJcclxuICAgICAgICAgICAgICAgICAgdG9UaW1lPXtidXR0b25HdWFyZC5lbmRUaW1lfVxyXG4gICAgICAgICAgICAgICAgICBzb2xhbmFUaW1lPXtzb2xhbmFUaW1lfVxyXG4gICAgICAgICAgICAgICAgICBzZXRDaGVja0VsaWdpYmlsaXR5PXtzZXRDaGVja0VsaWdpYmlsaXR5fVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgIHtidXR0b25HdWFyZC5zdGFydFRpbWUgPiBjcmVhdGVCaWdJbnQoMCkgJiZcclxuICAgICAgICAgICAgYnV0dG9uR3VhcmQuc3RhcnRUaW1lIC0gc29sYW5hVGltZSA+IGNyZWF0ZUJpZ0ludCgwKSAmJlxyXG4gICAgICAgICAgICAoIWJ1dHRvbkd1YXJkLmVuZFRpbWUgfHxcclxuICAgICAgICAgICAgICBzb2xhbmFUaW1lIC0gYnV0dG9uR3VhcmQuZW5kVGltZSA8PSBjcmVhdGVCaWdJbnQoMCkpICYmIChcclxuICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgPFRleHQgZm9udFNpemU9XCJtZFwiIG1hcmdpblJpZ2h0PXtcIjJcIn0+XHJcbiAgICAgICAgICAgICAgICAgIFN0YXJ0aW5nIGluOntcIiBcIn1cclxuICAgICAgICAgICAgICAgIDwvVGV4dD5cclxuICAgICAgICAgICAgICAgIDxUaW1lclxyXG4gICAgICAgICAgICAgICAgICB0b1RpbWU9e2J1dHRvbkd1YXJkLnN0YXJ0VGltZX1cclxuICAgICAgICAgICAgICAgICAgc29sYW5hVGltZT17c29sYW5hVGltZX1cclxuICAgICAgICAgICAgICAgICAgc2V0Q2hlY2tFbGlnaWJpbGl0eT17c2V0Q2hlY2tFbGlnaWJpbGl0eX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgPC9GbGV4PlxyXG4gICAgICA8L0hTdGFjaz5cclxuICAgICAgPEZsZXgganVzdGlmeUNvbnRlbnQ9XCJzcGFjZS1iZXR3ZWVuXCIgbWFyZ2luPVwiLjc1cmVtXCI+XHJcbiAgICAgICAgPEJveD5cclxuICAgICAgICAgIDxUZXh0IHB0PVwiMVwiIGZvbnRTaXplPXtpc1NtYWxsZXJUaGFuNjUwcHggPyBcInNtXCIgOiBcIm1kXCJ9PlxyXG4gICAgICAgICAgICB7YnV0dG9uR3VhcmQubWludFRleHR9XHJcbiAgICAgICAgICA8L1RleHQ+XHJcbiAgICAgICAgICA8RmxleCBmbGV4RGlyPXtcInJvd1wifT5cclxuICAgICAgICAgICAgPFRleHQgZm9udFNpemU9XCJzbVwiIG1yPVwiNXB4XCI+XHJcbiAgICAgICAgICAgICAge2J1dHRvbkd1YXJkLm1pbnRMaW1pdC50b1N0cmluZygpID09IFwiVU5MSU1JVEVEXCJcclxuICAgICAgICAgICAgICAgID8gYnV0dG9uR3VhcmQubWludExpbWl0XHJcbiAgICAgICAgICAgICAgICA6IGJ1dHRvbkd1YXJkLm1pbnRMaW1pdCArIFwiIHBlciB3YWxsZXQgXCJ9XHJcbiAgICAgICAgICAgIDwvVGV4dD5cclxuXHJcbiAgICAgICAgICAgIDxUZXh0IGZvbnRTaXplPVwic21cIiBmb250V2VpZ2h0PVwiNTAwXCI+XHJcbiAgICAgICAgICAgICAg4oCiIHtidXR0b25HdWFyZC5wcmljZX0gU09MIHBlciBORlRcclxuICAgICAgICAgICAgPC9UZXh0PlxyXG4gICAgICAgICAgPC9GbGV4PlxyXG4gICAgICAgIDwvQm94PlxyXG4gICAgICAgIDxUb29sdGlwIGxhYmVsPXtidXR0b25HdWFyZC50b29sdGlwfSBhcmlhLWxhYmVsPVwiTWludCBidXR0b25cIj5cclxuPEJ1dHRvblxyXG4gICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgYXdhaXQgbWludENsaWNrKFxyXG4gICAgICAgICAgICAgICAgdW1pLFxyXG4gICAgICAgICAgICAgICAgYnV0dG9uR3VhcmQsXHJcbiAgICAgICAgICAgICAgICBjYW5keU1hY2hpbmUsXHJcbiAgICAgICAgICAgICAgICBjYW5keUd1YXJkLFxyXG4gICAgICAgICAgICAgICAgb3duZWRUb2tlbnMsXHJcbiAgICAgICAgICAgICAgICB0b2FzdCxcclxuICAgICAgICAgICAgICAgIG1pbnRzQ3JlYXRlZCxcclxuICAgICAgICAgICAgICAgIHNldE1pbnRzQ3JlYXRlZCxcclxuICAgICAgICAgICAgICAgIGd1YXJkTGlzdCxcclxuICAgICAgICAgICAgICAgIHNldEd1YXJkTGlzdCxcclxuICAgICAgICAgICAgICAgIG9uT3BlbixcclxuICAgICAgICAgICAgICAgIHNldENoZWNrRWxpZ2liaWxpdHlcclxuICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICBrZXk9e2J1dHRvbkd1YXJkLmxhYmVsfVxyXG4gICAgICAgICAgICBzaXplPVwic21cIlxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I9XCIjNEU0NkNEXCJcclxuICAgICAgICAgICAgdGV4dEFsaWduPXtcImNlbnRlclwifVxyXG4gICAgICAgICAgICBjb2xvcj1cIndoaXRlXCJcclxuICAgICAgICAgICAgaXNEaXNhYmxlZD17IWJ1dHRvbkd1YXJkLmFsbG93ZWR9XHJcbiAgICAgICAgICAgIF9ob3Zlcj17e1xyXG4gICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJncmF5XCIsXHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIGlzTG9hZGluZz17XHJcbiAgICAgICAgICAgICAgZ3VhcmRMaXN0LmZpbmQoKGVsZW0pID0+IGVsZW0ubGFiZWwgPT09IGJ1dHRvbkd1YXJkLmxhYmVsKVxyXG4gICAgICAgICAgICAgICAgPy5taW50aW5nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbG9hZGluZ1RleHQ9e1xyXG4gICAgICAgICAgICAgIGd1YXJkTGlzdC5maW5kKChlbGVtKSA9PiBlbGVtLmxhYmVsID09PSBidXR0b25HdWFyZC5sYWJlbClcclxuICAgICAgICAgICAgICAgID8ubG9hZGluZ1RleHRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICB7YnV0dG9uR3VhcmQuYnV0dG9uTGFiZWx9XHJcbiAgICAgICAgICA8L0J1dHRvbj5cclxuXHJcblxyXG4gICAgICAgIDwvVG9vbHRpcD5cclxuICAgICAgPC9GbGV4PlxyXG4gICAgPC9Cb3g+XHJcbiAgKSk7XHJcblxyXG4gIHJldHVybiA8PntsaXN0SXRlbXN9PC8+O1xyXG59XHJcbiJdLCJuYW1lcyI6WyJtaW50VjIiLCJjcmVhdGVCaWdJbnQiLCJnZW5lcmF0ZVNpZ25lciIsIm5vbmUiLCJzb21lIiwidHJhbnNhY3Rpb25CdWlsZGVyIiwiZmV0Y2hEaWdpdGFsQXNzZXQiLCJmZXRjaEpzb25NZXRhZGF0YSIsIm1pbnRUZXh0IiwiQm94IiwiQnV0dG9uIiwiRmxleCIsIkhTdGFjayIsIkhlYWRpbmciLCJUZXh0IiwiVG9vbHRpcCIsInVzZU1lZGlhUXVlcnkiLCJzZXRDb21wdXRlVW5pdExpbWl0IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJjaG9vc2VHdWFyZFRvVXNlIiwicm91dGVCdWlsZGVyIiwibWludEFyZ3NCdWlsZGVyIiwiY29tYmluZVRyYW5zYWN0aW9ucyIsInVzZVNvbGFuYVRpbWUiLCJSZWFjdCIsInN0eWxlZCIsIk51bWVyaWNGaWVsZCIsImlucHV0IiwidXBkYXRlTG9hZGluZ1RleHQiLCJsb2FkaW5nVGV4dCIsImd1YXJkTGlzdCIsImxhYmVsIiwic2V0R3VhcmRMaXN0IiwiZ3VhcmRJbmRleCIsImZpbmRJbmRleCIsImciLCJjb25zb2xlIiwiZXJyb3IiLCJuZXdHdWFyZExpc3QiLCJkZXRlY3RCb3RUYXgiLCJsb2dzIiwiZmluZCIsImwiLCJpbmNsdWRlcyIsIkVycm9yIiwiZmV0Y2hOZnQiLCJ1bWkiLCJuZnRBZHJlc3MiLCJ0b2FzdCIsImRpZ2l0YWxBc3NldCIsImpzb25NZXRhZGF0YSIsIm1ldGFkYXRhIiwidXJpIiwiZSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJzdGF0dXMiLCJkdXJhdGlvbiIsImlzQ2xvc2FibGUiLCJtaW50Q2xpY2siLCJndWFyZCIsImNhbmR5TWFjaGluZSIsImNhbmR5R3VhcmQiLCJvd25lZFRva2VucyIsIm1pbnRzQ3JlYXRlZCIsInNldE1pbnRzQ3JlYXRlZCIsIm9uT3BlbiIsInNldENoZWNrRWxpZ2liaWxpdHkiLCJndWFyZFRvVXNlIiwiZ3VhcmRzIiwibWludGluZyIsInJvdXRlQnVpbGQiLCJuZnRNaW50IiwibWludEFyZ3MiLCJ0eCIsImFkZCIsInB1YmxpY0tleSIsImNvbGxlY3Rpb25NaW50IiwiY29sbGVjdGlvblVwZGF0ZUF1dGhvcml0eSIsImF1dGhvcml0eSIsImdyb3VwIiwidG9rZW5TdGFuZGFyZCIsImdyb3VwZWRUeCIsImxlbmd0aCIsImxhc3RTaWduYXR1cmUiLCJjb3VudGVyIiwicHJlcGVuZCIsInVuaXRzIiwic2lnbmF0dXJlIiwic2VuZEFuZENvbmZpcm0iLCJjb25maXJtIiwiY29tbWl0bWVudCIsInNlbmQiLCJza2lwUHJlZmxpZ2h0IiwidHJhbnNhY3Rpb24iLCJpIiwicnBjIiwiZ2V0VHJhbnNhY3Rpb24iLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJtZXRhIiwiZmV0Y2hlZE5mdCIsInVuZGVmaW5lZCIsIm1pbnQiLCJvZmZDaGFpbk1ldGFkYXRhIiwiVGltZXIiLCJzb2xhbmFUaW1lIiwidG9UaW1lIiwicmVtYWluaW5nVGltZSIsInNldFJlbWFpbmluZ1RpbWUiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwicHJldiIsIkJpZ0ludCIsImNsZWFySW50ZXJ2YWwiLCJkYXlzIiwiaG91cnMiLCJtaW51dGVzIiwic2Vjb25kcyIsImZvbnRTaXplIiwiZm9udFdlaWdodCIsImRpc3BsYXkiLCJzcGFuIiwiY2xhc3NOYW1lIiwidG9Mb2NhbGVTdHJpbmciLCJtaW5pbXVtSW50ZWdlckRpZ2l0cyIsInVzZUdyb3VwaW5nIiwiZmluZE1pbnRMaW1pdCIsImRhdGEiLCJ0YXJnZXRMYWJlbCIsImdyb3VwcyIsInZhbHVlIiwibGltaXQiLCJmaW5kTWludGVkQnlZb3UiLCJmaW5kU29sUGF5bWVudFByaWNlIiwiTnVtYmVyIiwibGFtcG9ydHMiLCJiYXNpc1BvaW50cyIsIkJ1dHRvbkxpc3QiLCJpc1NtYWxsZXJUaGFuMTEwMHB4IiwiaXNTbWFsbGVyVGhhbjY1MHB4IiwibnVtYmVyT2ZOZnRzIiwic2V0TnVtYmVyT2ZOZnRzIiwiZmlsdGVyZWRHdWFyZGxpc3QiLCJmaWx0ZXIiLCJlbGVtIiwiaW5kZXgiLCJzZWxmIiwidCIsImJ1dHRvbkd1YXJkTGlzdCIsInRleHQiLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwic3RhcnREYXRlIiwiX19vcHRpb24iLCJkYXRlIiwiZW5kRGF0ZSIsImJ1dHRvbkVsZW1lbnQiLCJhbGxvd2VkIiwibWludGVkQnlZb3UiLCJtaW50TGltaXQiLCJwcmljZSIsImhlYWRlciIsImJ1dHRvbkxhYmVsIiwiYnV0dG9uRGlzYWJsZWRMYWJlbCIsInRvb2x0aXAiLCJyZWFzb24iLCJnYXRlS2VlcGVyTmV0d29yayIsImdhdGVrZWVwZXIiLCJwdXNoIiwibGlzdEl0ZW1zIiwibWFwIiwiYnV0dG9uR3VhcmQiLCJwYWRkaW5nIiwibWFyZ2luVG9wIiwiYm9yZGVyIiwid2lkdGgiLCJib3JkZXJSYWRpdXMiLCJjb2xvciIsIm1hcmdpbkJvdHRvbSIsIm1hcmdpbiIsInNpemUiLCJ0ZXh0VHJhbnNmb3JtIiwianVzdGlmeUNvbnRlbnQiLCJtYXJnaW5MZWZ0IiwibWFyZ2luUmlnaHQiLCJwdCIsImZsZXhEaXIiLCJtciIsInRvU3RyaW5nIiwiYXJpYS1sYWJlbCIsIm9uQ2xpY2siLCJiYWNrZ3JvdW5kQ29sb3IiLCJ0ZXh0QWxpZ24iLCJpc0Rpc2FibGVkIiwiX2hvdmVyIiwiaXNMb2FkaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/mintButton.tsx\n"));

/***/ }),

/***/ "./utils/mintHelper.ts":
/*!*****************************!*\
  !*** ./utils/mintHelper.ts ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"chooseGuardToUse\": function() { return /* binding */ chooseGuardToUse; },\n/* harmony export */   \"combineTransactions\": function() { return /* binding */ combineTransactions; },\n/* harmony export */   \"mintArgsBuilder\": function() { return /* binding */ mintArgsBuilder; },\n/* harmony export */   \"routeBuilder\": function() { return /* binding */ routeBuilder; }\n/* harmony export */ });\n/* harmony import */ var _allowlist__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/allowlist */ \"./allowlist.tsx\");\n/* harmony import */ var _metaplex_foundation_mpl_candy_machine__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @metaplex-foundation/mpl-candy-machine */ \"./node_modules/@metaplex-foundation/mpl-candy-machine/dist/src/index.js\");\n/* harmony import */ var _metaplex_foundation_mpl_candy_machine__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_metaplex_foundation_mpl_candy_machine__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _metaplex_foundation_mpl_token_metadata__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @metaplex-foundation/mpl-token-metadata */ \"./node_modules/@metaplex-foundation/mpl-token-metadata/dist/src/index.js\");\n/* harmony import */ var _metaplex_foundation_mpl_token_metadata__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_metaplex_foundation_mpl_token_metadata__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @metaplex-foundation/umi */ \"./node_modules/@metaplex-foundation/umi/dist/esm/index.mjs\");\n/* harmony import */ var _metaplex_foundation_mpl_toolbox__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @metaplex-foundation/mpl-toolbox */ \"./node_modules/@metaplex-foundation/mpl-toolbox/dist/src/index.js\");\n/* harmony import */ var _metaplex_foundation_mpl_toolbox__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_metaplex_foundation_mpl_toolbox__WEBPACK_IMPORTED_MODULE_3__);\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"./node_modules/process/browser.js\");\n\n\n\n\n\nconst chooseGuardToUse = (guard, candyGuard)=>{\n    let guardGroup = candyGuard === null || candyGuard === void 0 ? void 0 : candyGuard.groups.find((item)=>item.label === guard.label);\n    if (guardGroup) {\n        return guardGroup;\n    }\n    if (candyGuard != null) {\n        return {\n            label: \"default\",\n            guards: candyGuard.guards\n        };\n    }\n    console.error(\"No guards defined! No minting possible.\");\n    return {\n        label: \"default\",\n        guards: undefined\n    };\n};\nconst mintArgsBuilder = (candyMachine, guardToUse, ownedTokens)=>{\n    const guards = guardToUse.guards;\n    let ruleset = undefined;\n    if (candyMachine.ruleSet.__option === \"Some\") {\n        ruleset = candyMachine.ruleSet.value;\n    }\n    let mintArgs = {};\n    if (guards.allocation.__option === \"Some\") {\n        mintArgs.allocation = (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.some)({\n            id: guards.allocation.value.id\n        });\n    }\n    if (guards.allowList.__option === \"Some\") {\n        const allowlist = _allowlist__WEBPACK_IMPORTED_MODULE_0__.allowLists.get(guardToUse.label);\n        if (!allowlist) {\n            console.error(\"allowlist for guard \".concat(guardToUse.label, \" not found!\"));\n        } else {\n            mintArgs.allowList = (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.some)({\n                merkleRoot: (0,_metaplex_foundation_mpl_candy_machine__WEBPACK_IMPORTED_MODULE_1__.getMerkleRoot)(allowlist)\n            });\n        }\n    }\n    if (guards.freezeSolPayment.__option === \"Some\") {\n        mintArgs.freezeSolPayment = (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.some)({\n            destination: guards.freezeSolPayment.value.destination\n        });\n    }\n    if (guards.freezeTokenPayment.__option === \"Some\") {\n        mintArgs.freezeTokenPayment = (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.some)({\n            destinationAta: guards.freezeTokenPayment.value.destinationAta,\n            mint: guards.freezeTokenPayment.value.mint,\n            nftRuleSet: ruleset\n        });\n    }\n    if (guards.gatekeeper.__option === \"Some\") {\n        mintArgs.gatekeeper = (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.some)({\n            expireOnUse: guards.gatekeeper.value.expireOnUse,\n            gatekeeperNetwork: guards.gatekeeper.value.gatekeeperNetwork\n        });\n    }\n    if (guards.mintLimit.__option === \"Some\") {\n        mintArgs.mintLimit = (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.some)({\n            id: guards.mintLimit.value.id\n        });\n    }\n    if (guards.nftBurn.__option === \"Some\") {\n        const requiredCollection = guards.nftBurn.value.requiredCollection;\n        //TODO: have the use choose the NFT\n        const nft = ownedTokens.find((el)=>el.metadata.collection.__option === \"Some\" && el.metadata.collection.value.key === requiredCollection);\n        if (!nft) {\n            console.error(\"no nft to burn found!\");\n        } else {\n            let tokenStandard = _metaplex_foundation_mpl_token_metadata__WEBPACK_IMPORTED_MODULE_2__.TokenStandard.NonFungible;\n            if (nft.metadata.tokenStandard.__option === \"Some\") {\n                if (nft.metadata.tokenStandard.value === _metaplex_foundation_mpl_token_metadata__WEBPACK_IMPORTED_MODULE_2__.TokenStandard.ProgrammableNonFungible) {\n                    tokenStandard = _metaplex_foundation_mpl_token_metadata__WEBPACK_IMPORTED_MODULE_2__.TokenStandard.ProgrammableNonFungible;\n                }\n            }\n            mintArgs.nftBurn = (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.some)({\n                mint: nft.publicKey,\n                requiredCollection,\n                tokenStandard\n            });\n        }\n    }\n    if (guards.nftGate.__option === \"Some\") {\n        const requiredCollection = guards.nftGate.value.requiredCollection;\n        const nft = ownedTokens.find((el)=>el.metadata.collection.__option === \"Some\" && el.metadata.collection.value.key === requiredCollection);\n        if (!nft) {\n            console.error(\"no nft for tokenGate found!\");\n        } else {\n            let tokenStandard = _metaplex_foundation_mpl_token_metadata__WEBPACK_IMPORTED_MODULE_2__.TokenStandard.NonFungible;\n            if (nft.metadata.tokenStandard.__option === \"Some\") {\n                if (nft.metadata.tokenStandard.value === _metaplex_foundation_mpl_token_metadata__WEBPACK_IMPORTED_MODULE_2__.TokenStandard.ProgrammableNonFungible) {\n                    tokenStandard = _metaplex_foundation_mpl_token_metadata__WEBPACK_IMPORTED_MODULE_2__.TokenStandard.ProgrammableNonFungible;\n                }\n            }\n            mintArgs.nftGate = (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.some)({\n                mint: nft.publicKey,\n                requiredCollection,\n                tokenStandard\n            });\n        }\n    }\n    if (guards.nftPayment.__option === \"Some\") {\n        const requiredCollection = guards.nftPayment.value.requiredCollection;\n        const nft = ownedTokens.find((el)=>el.metadata.collection.__option === \"Some\" && el.metadata.collection.value.key === requiredCollection);\n        if (!nft) {\n            console.error(\"no nft for tokenGate found!\");\n        } else {\n            let tokenStandard = _metaplex_foundation_mpl_token_metadata__WEBPACK_IMPORTED_MODULE_2__.TokenStandard.NonFungible;\n            if (nft.metadata.tokenStandard.__option === \"Some\") {\n                if (nft.metadata.tokenStandard.value === _metaplex_foundation_mpl_token_metadata__WEBPACK_IMPORTED_MODULE_2__.TokenStandard.ProgrammableNonFungible) {\n                    tokenStandard = _metaplex_foundation_mpl_token_metadata__WEBPACK_IMPORTED_MODULE_2__.TokenStandard.ProgrammableNonFungible;\n                }\n            }\n            mintArgs.nftPayment = (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.some)({\n                destination: guards.nftPayment.value.destination,\n                mint: nft.publicKey,\n                requiredCollection,\n                tokenStandard\n            });\n        }\n    }\n    if (guards.solPayment.__option === \"Some\") {\n        mintArgs.solPayment = (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.some)({\n            destination: guards.solPayment.value.destination\n        });\n    }\n    if (guards.thirdPartySigner.__option === \"Some\") {\n        console.error(\"not supported. you need a backend\");\n    }\n    if (guards.token2022Payment.__option === \"Some\") {\n        mintArgs.token2022Payment = (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.some)({\n            destinationAta: guards.token2022Payment.value.destinationAta,\n            mint: guards.token2022Payment.value.mint\n        });\n    }\n    if (guards.tokenBurn.__option === \"Some\") {\n        mintArgs.tokenBurn = (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.some)({\n            mint: guards.tokenBurn.value.mint\n        });\n    }\n    if (guards.tokenGate.__option === \"Some\") {\n        mintArgs.tokenGate = (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.some)({\n            mint: guards.tokenGate.value.mint\n        });\n    }\n    if (guards.tokenPayment.__option === \"Some\") {\n        mintArgs.tokenPayment = (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.some)({\n            destinationAta: guards.tokenPayment.value.destinationAta,\n            mint: guards.tokenPayment.value.mint\n        });\n    }\n    return mintArgs;\n};\n// build route instruction for allowlist guard\nconst routeBuilder = async (umi, guardToUse, candyMachine)=>{\n    let tx2 = (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.transactionBuilder)();\n    if (guardToUse.guards.allowList.__option === \"Some\") {\n        const allowlist = _allowlist__WEBPACK_IMPORTED_MODULE_0__.allowLists.get(guardToUse.label);\n        if (!allowlist) {\n            console.error(\"allowlist not found!\");\n            return (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.transactionBuilder)();\n        }\n        const allowListProof = await (0,_metaplex_foundation_mpl_candy_machine__WEBPACK_IMPORTED_MODULE_1__.safeFetchAllowListProofFromSeeds)(umi, {\n            candyGuard: candyMachine.mintAuthority,\n            candyMachine: candyMachine.publicKey,\n            merkleRoot: (0,_metaplex_foundation_mpl_candy_machine__WEBPACK_IMPORTED_MODULE_1__.getMerkleRoot)(allowlist),\n            user: (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.publicKey)(umi.identity)\n        });\n        if (allowListProof === null) {\n            tx2 = tx2.add((0,_metaplex_foundation_mpl_candy_machine__WEBPACK_IMPORTED_MODULE_1__.route)(umi, {\n                guard: \"allowList\",\n                candyMachine: candyMachine.publicKey,\n                candyGuard: candyMachine.mintAuthority,\n                group: guardToUse.label === \"default\" ? (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.none)() : (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.some)(guardToUse.label),\n                routeArgs: {\n                    path: \"proof\",\n                    merkleRoot: (0,_metaplex_foundation_mpl_candy_machine__WEBPACK_IMPORTED_MODULE_1__.getMerkleRoot)(allowlist),\n                    merkleProof: (0,_metaplex_foundation_mpl_candy_machine__WEBPACK_IMPORTED_MODULE_1__.getMerkleProof)(allowlist, (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.publicKey)(umi.identity))\n                }\n            }));\n        }\n        return tx2;\n    }\n};\n// combine transactions. return TransactionBuilder[]\nconst combineTransactions = async (umi, txs, toast)=>{\n    const returnArray = [];\n    let builder = (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.transactionBuilder)();\n    for(let i = 0; i <= txs.length - 1; i++){\n        const tx = txs[i];\n        let oldBuilder = builder;\n        builder = builder.add(tx);\n        let tables = [];\n        const lut = process.env.NEXT_PUBLIC_LUT;\n        if (lut) {\n            const lutPubKey = (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.publicKey)(lut);\n            const fetchedLut = await (0,_metaplex_foundation_mpl_toolbox__WEBPACK_IMPORTED_MODULE_3__.fetchAddressLookupTable)(umi, lutPubKey);\n            tables = [\n                fetchedLut\n            ];\n            builder = builder.setAddressLookupTables(tables);\n        } else {\n        // toast({\n        //   title: \"Stop! you should really set a lookup table!\",\n        //   status: \"error\",\n        //   duration: 90000,\n        //   isClosable: true,\n        // });\n        }\n        if (!builder.fitsInOneTransaction(umi)) {\n            oldBuilder = oldBuilder.setAddressLookupTables(tables);\n            returnArray.push(oldBuilder);\n            builder = new _metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.TransactionBuilder();\n            builder = builder.add(tx);\n        }\n        if (i === txs.length - 1) {\n            returnArray.push(builder);\n        }\n    }\n    return returnArray;\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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IjpbIndlYnBhY2s6Ly9fTl9FLy4vdXRpbHMvbWludEhlbHBlci50cz8wOTc5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFsbG93TGlzdHMgfSBmcm9tIFwiQC9hbGxvd2xpc3RcIjtcclxuaW1wb3J0IHtcclxuICBDYW5keUd1YXJkLFxyXG4gIENhbmR5TWFjaGluZSxcclxuICBHdWFyZEdyb3VwLFxyXG4gIERlZmF1bHRHdWFyZFNldCxcclxuICBEZWZhdWx0R3VhcmRTZXRNaW50QXJncyxcclxuICBnZXRNZXJrbGVSb290LFxyXG4gIHJvdXRlLFxyXG4gIGdldE1lcmtsZVByb29mLFxyXG4gIHNhZmVGZXRjaEFsbG93TGlzdFByb29mRnJvbVNlZWRzLFxyXG59IGZyb20gXCJAbWV0YXBsZXgtZm91bmRhdGlvbi9tcGwtY2FuZHktbWFjaGluZVwiO1xyXG5pbXBvcnQge1xyXG4gIERpZ2l0YWxBc3NldFdpdGhUb2tlbixcclxuICBUb2tlblN0YW5kYXJkLFxyXG59IGZyb20gXCJAbWV0YXBsZXgtZm91bmRhdGlvbi9tcGwtdG9rZW4tbWV0YWRhdGFcIjtcclxuaW1wb3J0IHtcclxuICBzb21lLFxyXG4gIFVtaSxcclxuICB0cmFuc2FjdGlvbkJ1aWxkZXIsXHJcbiAgcHVibGljS2V5LFxyXG4gIFRyYW5zYWN0aW9uQnVpbGRlcixcclxuICBub25lLFxyXG4gIEFkZHJlc3NMb29rdXBUYWJsZUlucHV0LFxyXG4gIHNvbCxcclxufSBmcm9tIFwiQG1ldGFwbGV4LWZvdW5kYXRpb24vdW1pXCI7XHJcbmltcG9ydCB7IEd1YXJkUmV0dXJuIH0gZnJvbSBcIi4vY2hlY2tlckhlbHBlclwiO1xyXG5pbXBvcnQge1xyXG4gIGZldGNoQWRkcmVzc0xvb2t1cFRhYmxlLFxyXG4gIHRyYW5zZmVyU29sLFxyXG59IGZyb20gXCJAbWV0YXBsZXgtZm91bmRhdGlvbi9tcGwtdG9vbGJveFwiO1xyXG5pbXBvcnQgeyBVc2VUb2FzdE9wdGlvbnMgfSBmcm9tIFwiQGNoYWtyYS11aS9yZWFjdFwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBHdWFyZEJ1dHRvbkxpc3QgZXh0ZW5kcyBHdWFyZFJldHVybiB7XHJcbiAgaGVhZGVyOiBzdHJpbmc7XHJcbiAgcHJpY2U6IG51bWJlcjtcclxuICBtaW50ZWRCeVlvdTpudW1iZXJ8c3RyaW5nO1xyXG4gIG1pbnRMaW1pdDogbnVtYmVyO1xyXG4gIG1pbnRUZXh0OiBzdHJpbmc7XHJcbiAgYnV0dG9uTGFiZWw6IHN0cmluZztcclxuICBidXR0b25EaXNhYmxlZExhYmVsOnN0cmluZztcclxuICBzdGFydFRpbWU6IGJpZ2ludDtcclxuICBlbmRUaW1lOiBiaWdpbnQ7XHJcbiAgdG9vbHRpcD86IHN0cmluZztcclxuICBnYXRlS2VlcGVyTmV0d29yazogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgY2hvb3NlR3VhcmRUb1VzZSA9IChcclxuICBndWFyZDogR3VhcmRSZXR1cm4sXHJcbiAgY2FuZHlHdWFyZDogQ2FuZHlHdWFyZFxyXG4pID0+IHtcclxuICBsZXQgZ3VhcmRHcm91cCA9IGNhbmR5R3VhcmQ/Lmdyb3Vwcy5maW5kKFxyXG4gICAgKGl0ZW0pID0+IGl0ZW0ubGFiZWwgPT09IGd1YXJkLmxhYmVsXHJcbiAgKTtcclxuICBpZiAoZ3VhcmRHcm91cCkge1xyXG4gICAgcmV0dXJuIGd1YXJkR3JvdXA7XHJcbiAgfVxyXG5cclxuICBpZiAoY2FuZHlHdWFyZCAhPSBudWxsKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBsYWJlbDogXCJkZWZhdWx0XCIsXHJcbiAgICAgIGd1YXJkczogY2FuZHlHdWFyZC5ndWFyZHMsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgY29uc29sZS5lcnJvcihcIk5vIGd1YXJkcyBkZWZpbmVkISBObyBtaW50aW5nIHBvc3NpYmxlLlwiKTtcclxuICByZXR1cm4ge1xyXG4gICAgbGFiZWw6IFwiZGVmYXVsdFwiLFxyXG4gICAgZ3VhcmRzOiB1bmRlZmluZWQsXHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBtaW50QXJnc0J1aWxkZXIgPSAoXHJcbiAgY2FuZHlNYWNoaW5lOiBDYW5keU1hY2hpbmUsXHJcbiAgZ3VhcmRUb1VzZTogR3VhcmRHcm91cDxEZWZhdWx0R3VhcmRTZXQ+LFxyXG4gIG93bmVkVG9rZW5zOiBEaWdpdGFsQXNzZXRXaXRoVG9rZW5bXVxyXG4pID0+IHtcclxuICBjb25zdCBndWFyZHMgPSBndWFyZFRvVXNlLmd1YXJkcztcclxuICBsZXQgcnVsZXNldCA9IHVuZGVmaW5lZDtcclxuICBpZiAoY2FuZHlNYWNoaW5lLnJ1bGVTZXQuX19vcHRpb24gPT09IFwiU29tZVwiKSB7XHJcbiAgICBydWxlc2V0ID0gY2FuZHlNYWNoaW5lLnJ1bGVTZXQudmFsdWU7XHJcbiAgfVxyXG5cclxuICBsZXQgbWludEFyZ3M6IFBhcnRpYWw8RGVmYXVsdEd1YXJkU2V0TWludEFyZ3M+ID0ge307XHJcbiAgaWYgKGd1YXJkcy5hbGxvY2F0aW9uLl9fb3B0aW9uID09PSBcIlNvbWVcIikge1xyXG4gICAgbWludEFyZ3MuYWxsb2NhdGlvbiA9IHNvbWUoeyBpZDogZ3VhcmRzLmFsbG9jYXRpb24udmFsdWUuaWQgfSk7XHJcbiAgfVxyXG5cclxuICBpZiAoZ3VhcmRzLmFsbG93TGlzdC5fX29wdGlvbiA9PT0gXCJTb21lXCIpIHtcclxuICAgIGNvbnN0IGFsbG93bGlzdCA9IGFsbG93TGlzdHMuZ2V0KGd1YXJkVG9Vc2UubGFiZWwpO1xyXG4gICAgaWYgKCFhbGxvd2xpc3QpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihgYWxsb3dsaXN0IGZvciBndWFyZCAke2d1YXJkVG9Vc2UubGFiZWx9IG5vdCBmb3VuZCFgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG1pbnRBcmdzLmFsbG93TGlzdCA9IHNvbWUoeyBtZXJrbGVSb290OiBnZXRNZXJrbGVSb290KGFsbG93bGlzdCkgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpZiAoZ3VhcmRzLmZyZWV6ZVNvbFBheW1lbnQuX19vcHRpb24gPT09IFwiU29tZVwiKSB7XHJcbiAgICBtaW50QXJncy5mcmVlemVTb2xQYXltZW50ID0gc29tZSh7XHJcbiAgICAgIGRlc3RpbmF0aW9uOiBndWFyZHMuZnJlZXplU29sUGF5bWVudC52YWx1ZS5kZXN0aW5hdGlvbixcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaWYgKGd1YXJkcy5mcmVlemVUb2tlblBheW1lbnQuX19vcHRpb24gPT09IFwiU29tZVwiKSB7XHJcbiAgICBtaW50QXJncy5mcmVlemVUb2tlblBheW1lbnQgPSBzb21lKHtcclxuICAgICAgZGVzdGluYXRpb25BdGE6IGd1YXJkcy5mcmVlemVUb2tlblBheW1lbnQudmFsdWUuZGVzdGluYXRpb25BdGEsXHJcbiAgICAgIG1pbnQ6IGd1YXJkcy5mcmVlemVUb2tlblBheW1lbnQudmFsdWUubWludCxcclxuICAgICAgbmZ0UnVsZVNldDogcnVsZXNldCxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaWYgKGd1YXJkcy5nYXRla2VlcGVyLl9fb3B0aW9uID09PSBcIlNvbWVcIikge1xyXG4gICAgbWludEFyZ3MuZ2F0ZWtlZXBlciA9IHNvbWUoe1xyXG4gICAgICBleHBpcmVPblVzZTogZ3VhcmRzLmdhdGVrZWVwZXIudmFsdWUuZXhwaXJlT25Vc2UsXHJcbiAgICAgIGdhdGVrZWVwZXJOZXR3b3JrOiBndWFyZHMuZ2F0ZWtlZXBlci52YWx1ZS5nYXRla2VlcGVyTmV0d29yayxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaWYgKGd1YXJkcy5taW50TGltaXQuX19vcHRpb24gPT09IFwiU29tZVwiKSB7XHJcbiAgICBtaW50QXJncy5taW50TGltaXQgPSBzb21lKHsgaWQ6IGd1YXJkcy5taW50TGltaXQudmFsdWUuaWQgfSk7XHJcbiAgfVxyXG5cclxuICBpZiAoZ3VhcmRzLm5mdEJ1cm4uX19vcHRpb24gPT09IFwiU29tZVwiKSB7XHJcbiAgICBjb25zdCByZXF1aXJlZENvbGxlY3Rpb24gPSBndWFyZHMubmZ0QnVybi52YWx1ZS5yZXF1aXJlZENvbGxlY3Rpb247XHJcbiAgICAvL1RPRE86IGhhdmUgdGhlIHVzZSBjaG9vc2UgdGhlIE5GVFxyXG4gICAgY29uc3QgbmZ0ID0gb3duZWRUb2tlbnMuZmluZChcclxuICAgICAgKGVsKSA9PlxyXG4gICAgICAgIGVsLm1ldGFkYXRhLmNvbGxlY3Rpb24uX19vcHRpb24gPT09IFwiU29tZVwiICYmXHJcbiAgICAgICAgZWwubWV0YWRhdGEuY29sbGVjdGlvbi52YWx1ZS5rZXkgPT09IHJlcXVpcmVkQ29sbGVjdGlvblxyXG4gICAgKTtcclxuICAgIGlmICghbmZ0KSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJubyBuZnQgdG8gYnVybiBmb3VuZCFcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBsZXQgdG9rZW5TdGFuZGFyZCA9IFRva2VuU3RhbmRhcmQuTm9uRnVuZ2libGU7XHJcbiAgICAgIGlmIChuZnQubWV0YWRhdGEudG9rZW5TdGFuZGFyZC5fX29wdGlvbiA9PT0gXCJTb21lXCIpIHtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICBuZnQubWV0YWRhdGEudG9rZW5TdGFuZGFyZC52YWx1ZSA9PT1cclxuICAgICAgICAgIFRva2VuU3RhbmRhcmQuUHJvZ3JhbW1hYmxlTm9uRnVuZ2libGVcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHRva2VuU3RhbmRhcmQgPSBUb2tlblN0YW5kYXJkLlByb2dyYW1tYWJsZU5vbkZ1bmdpYmxlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBtaW50QXJncy5uZnRCdXJuID0gc29tZSh7XHJcbiAgICAgICAgbWludDogbmZ0LnB1YmxpY0tleSxcclxuICAgICAgICByZXF1aXJlZENvbGxlY3Rpb24sXHJcbiAgICAgICAgdG9rZW5TdGFuZGFyZCxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpZiAoZ3VhcmRzLm5mdEdhdGUuX19vcHRpb24gPT09IFwiU29tZVwiKSB7XHJcbiAgICBjb25zdCByZXF1aXJlZENvbGxlY3Rpb24gPSBndWFyZHMubmZ0R2F0ZS52YWx1ZS5yZXF1aXJlZENvbGxlY3Rpb247XHJcbiAgICBjb25zdCBuZnQgPSBvd25lZFRva2Vucy5maW5kKFxyXG4gICAgICAoZWwpID0+XHJcbiAgICAgICAgZWwubWV0YWRhdGEuY29sbGVjdGlvbi5fX29wdGlvbiA9PT0gXCJTb21lXCIgJiZcclxuICAgICAgICBlbC5tZXRhZGF0YS5jb2xsZWN0aW9uLnZhbHVlLmtleSA9PT0gcmVxdWlyZWRDb2xsZWN0aW9uXHJcbiAgICApO1xyXG4gICAgaWYgKCFuZnQpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIm5vIG5mdCBmb3IgdG9rZW5HYXRlIGZvdW5kIVwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxldCB0b2tlblN0YW5kYXJkID0gVG9rZW5TdGFuZGFyZC5Ob25GdW5naWJsZTtcclxuICAgICAgaWYgKG5mdC5tZXRhZGF0YS50b2tlblN0YW5kYXJkLl9fb3B0aW9uID09PSBcIlNvbWVcIikge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIG5mdC5tZXRhZGF0YS50b2tlblN0YW5kYXJkLnZhbHVlID09PVxyXG4gICAgICAgICAgVG9rZW5TdGFuZGFyZC5Qcm9ncmFtbWFibGVOb25GdW5naWJsZVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgdG9rZW5TdGFuZGFyZCA9IFRva2VuU3RhbmRhcmQuUHJvZ3JhbW1hYmxlTm9uRnVuZ2libGU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIG1pbnRBcmdzLm5mdEdhdGUgPSBzb21lKHtcclxuICAgICAgICBtaW50OiBuZnQucHVibGljS2V5LFxyXG4gICAgICAgIHJlcXVpcmVkQ29sbGVjdGlvbixcclxuICAgICAgICB0b2tlblN0YW5kYXJkLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmIChndWFyZHMubmZ0UGF5bWVudC5fX29wdGlvbiA9PT0gXCJTb21lXCIpIHtcclxuICAgIGNvbnN0IHJlcXVpcmVkQ29sbGVjdGlvbiA9IGd1YXJkcy5uZnRQYXltZW50LnZhbHVlLnJlcXVpcmVkQ29sbGVjdGlvbjtcclxuICAgIGNvbnN0IG5mdCA9IG93bmVkVG9rZW5zLmZpbmQoXHJcbiAgICAgIChlbCkgPT5cclxuICAgICAgICBlbC5tZXRhZGF0YS5jb2xsZWN0aW9uLl9fb3B0aW9uID09PSBcIlNvbWVcIiAmJlxyXG4gICAgICAgIGVsLm1ldGFkYXRhLmNvbGxlY3Rpb24udmFsdWUua2V5ID09PSByZXF1aXJlZENvbGxlY3Rpb25cclxuICAgICk7XHJcbiAgICBpZiAoIW5mdCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwibm8gbmZ0IGZvciB0b2tlbkdhdGUgZm91bmQhXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGV0IHRva2VuU3RhbmRhcmQgPSBUb2tlblN0YW5kYXJkLk5vbkZ1bmdpYmxlO1xyXG4gICAgICBpZiAobmZ0Lm1ldGFkYXRhLnRva2VuU3RhbmRhcmQuX19vcHRpb24gPT09IFwiU29tZVwiKSB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgbmZ0Lm1ldGFkYXRhLnRva2VuU3RhbmRhcmQudmFsdWUgPT09XHJcbiAgICAgICAgICBUb2tlblN0YW5kYXJkLlByb2dyYW1tYWJsZU5vbkZ1bmdpYmxlXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICB0b2tlblN0YW5kYXJkID0gVG9rZW5TdGFuZGFyZC5Qcm9ncmFtbWFibGVOb25GdW5naWJsZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgbWludEFyZ3MubmZ0UGF5bWVudCA9IHNvbWUoe1xyXG4gICAgICAgIGRlc3RpbmF0aW9uOiBndWFyZHMubmZ0UGF5bWVudC52YWx1ZS5kZXN0aW5hdGlvbixcclxuICAgICAgICBtaW50OiBuZnQucHVibGljS2V5LFxyXG4gICAgICAgIHJlcXVpcmVkQ29sbGVjdGlvbixcclxuICAgICAgICB0b2tlblN0YW5kYXJkLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmIChndWFyZHMuc29sUGF5bWVudC5fX29wdGlvbiA9PT0gXCJTb21lXCIpIHtcclxuICAgIG1pbnRBcmdzLnNvbFBheW1lbnQgPSBzb21lKHtcclxuICAgICAgZGVzdGluYXRpb246IGd1YXJkcy5zb2xQYXltZW50LnZhbHVlLmRlc3RpbmF0aW9uLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBpZiAoZ3VhcmRzLnRoaXJkUGFydHlTaWduZXIuX19vcHRpb24gPT09IFwiU29tZVwiKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwibm90IHN1cHBvcnRlZC4geW91IG5lZWQgYSBiYWNrZW5kXCIpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGd1YXJkcy50b2tlbjIwMjJQYXltZW50Ll9fb3B0aW9uID09PSBcIlNvbWVcIikge1xyXG4gICAgbWludEFyZ3MudG9rZW4yMDIyUGF5bWVudCA9IHNvbWUoe1xyXG4gICAgICBkZXN0aW5hdGlvbkF0YTogZ3VhcmRzLnRva2VuMjAyMlBheW1lbnQudmFsdWUuZGVzdGluYXRpb25BdGEsXHJcbiAgICAgIG1pbnQ6IGd1YXJkcy50b2tlbjIwMjJQYXltZW50LnZhbHVlLm1pbnQsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGlmIChndWFyZHMudG9rZW5CdXJuLl9fb3B0aW9uID09PSBcIlNvbWVcIikge1xyXG4gICAgbWludEFyZ3MudG9rZW5CdXJuID0gc29tZSh7IG1pbnQ6IGd1YXJkcy50b2tlbkJ1cm4udmFsdWUubWludCB9KTtcclxuICB9XHJcblxyXG4gIGlmIChndWFyZHMudG9rZW5HYXRlLl9fb3B0aW9uID09PSBcIlNvbWVcIikge1xyXG4gICAgbWludEFyZ3MudG9rZW5HYXRlID0gc29tZSh7IG1pbnQ6IGd1YXJkcy50b2tlbkdhdGUudmFsdWUubWludCB9KTtcclxuICB9XHJcblxyXG4gIGlmIChndWFyZHMudG9rZW5QYXltZW50Ll9fb3B0aW9uID09PSBcIlNvbWVcIikge1xyXG4gICAgbWludEFyZ3MudG9rZW5QYXltZW50ID0gc29tZSh7XHJcbiAgICAgIGRlc3RpbmF0aW9uQXRhOiBndWFyZHMudG9rZW5QYXltZW50LnZhbHVlLmRlc3RpbmF0aW9uQXRhLFxyXG4gICAgICBtaW50OiBndWFyZHMudG9rZW5QYXltZW50LnZhbHVlLm1pbnQsXHJcbiAgICB9KTtcclxuICB9XHJcbiAgcmV0dXJuIG1pbnRBcmdzO1xyXG59O1xyXG5cclxuLy8gYnVpbGQgcm91dGUgaW5zdHJ1Y3Rpb24gZm9yIGFsbG93bGlzdCBndWFyZFxyXG5leHBvcnQgY29uc3Qgcm91dGVCdWlsZGVyID0gYXN5bmMgKFxyXG4gIHVtaTogVW1pLFxyXG4gIGd1YXJkVG9Vc2U6IEd1YXJkR3JvdXA8RGVmYXVsdEd1YXJkU2V0PixcclxuICBjYW5keU1hY2hpbmU6IENhbmR5TWFjaGluZVxyXG4pID0+IHtcclxuICBsZXQgdHgyID0gdHJhbnNhY3Rpb25CdWlsZGVyKCk7XHJcblxyXG4gIGlmIChndWFyZFRvVXNlLmd1YXJkcy5hbGxvd0xpc3QuX19vcHRpb24gPT09IFwiU29tZVwiKSB7XHJcbiAgICBjb25zdCBhbGxvd2xpc3QgPSBhbGxvd0xpc3RzLmdldChndWFyZFRvVXNlLmxhYmVsKTtcclxuICAgIGlmICghYWxsb3dsaXN0KSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJhbGxvd2xpc3Qgbm90IGZvdW5kIVwiKTtcclxuICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uQnVpbGRlcigpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgYWxsb3dMaXN0UHJvb2YgPSBhd2FpdCBzYWZlRmV0Y2hBbGxvd0xpc3RQcm9vZkZyb21TZWVkcyh1bWksIHtcclxuICAgICAgY2FuZHlHdWFyZDogY2FuZHlNYWNoaW5lLm1pbnRBdXRob3JpdHksXHJcbiAgICAgIGNhbmR5TWFjaGluZTogY2FuZHlNYWNoaW5lLnB1YmxpY0tleSxcclxuICAgICAgbWVya2xlUm9vdDogZ2V0TWVya2xlUm9vdChhbGxvd2xpc3QpLFxyXG4gICAgICB1c2VyOiBwdWJsaWNLZXkodW1pLmlkZW50aXR5KSxcclxuICAgIH0pO1xyXG4gICAgaWYgKGFsbG93TGlzdFByb29mID09PSBudWxsKSB7XHJcbiAgICAgIHR4MiA9IHR4Mi5hZGQoXHJcbiAgICAgICAgcm91dGUodW1pLCB7XHJcbiAgICAgICAgICBndWFyZDogXCJhbGxvd0xpc3RcIixcclxuICAgICAgICAgIGNhbmR5TWFjaGluZTogY2FuZHlNYWNoaW5lLnB1YmxpY0tleSxcclxuICAgICAgICAgIGNhbmR5R3VhcmQ6IGNhbmR5TWFjaGluZS5taW50QXV0aG9yaXR5LFxyXG4gICAgICAgICAgZ3JvdXA6XHJcbiAgICAgICAgICAgIGd1YXJkVG9Vc2UubGFiZWwgPT09IFwiZGVmYXVsdFwiID8gbm9uZSgpIDogc29tZShndWFyZFRvVXNlLmxhYmVsKSxcclxuICAgICAgICAgIHJvdXRlQXJnczoge1xyXG4gICAgICAgICAgICBwYXRoOiBcInByb29mXCIsXHJcbiAgICAgICAgICAgIG1lcmtsZVJvb3Q6IGdldE1lcmtsZVJvb3QoYWxsb3dsaXN0KSxcclxuICAgICAgICAgICAgbWVya2xlUHJvb2Y6IGdldE1lcmtsZVByb29mKGFsbG93bGlzdCwgcHVibGljS2V5KHVtaS5pZGVudGl0eSkpLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9KVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHR4MjtcclxuICB9XHJcbn07XHJcblxyXG4vLyBjb21iaW5lIHRyYW5zYWN0aW9ucy4gcmV0dXJuIFRyYW5zYWN0aW9uQnVpbGRlcltdXHJcbmV4cG9ydCBjb25zdCBjb21iaW5lVHJhbnNhY3Rpb25zID0gYXN5bmMgKFxyXG4gIHVtaTogVW1pLFxyXG4gIHR4czogVHJhbnNhY3Rpb25CdWlsZGVyW10sXHJcbiAgdG9hc3Q6IChvcHRpb25zOiBPbWl0PFVzZVRvYXN0T3B0aW9ucywgXCJpZFwiPikgPT4gdm9pZFxyXG4pID0+IHtcclxuICBjb25zdCByZXR1cm5BcnJheTogVHJhbnNhY3Rpb25CdWlsZGVyW10gPSBbXTtcclxuICBsZXQgYnVpbGRlciA9IHRyYW5zYWN0aW9uQnVpbGRlcigpO1xyXG5cclxuICBmb3IgKGxldCBpID0gMDsgaSA8PSB0eHMubGVuZ3RoIC0gMTsgaSsrKSB7XHJcbiAgICBjb25zdCB0eCA9IHR4c1tpXTtcclxuICAgIGxldCBvbGRCdWlsZGVyID0gYnVpbGRlcjtcclxuICAgIGJ1aWxkZXIgPSBidWlsZGVyLmFkZCh0eCk7XHJcbiAgICBsZXQgdGFibGVzOiBBZGRyZXNzTG9va3VwVGFibGVJbnB1dFtdID0gW107XHJcbiAgICBjb25zdCBsdXQgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19MVVQ7XHJcbiAgICBpZiAobHV0KSB7XHJcbiAgICAgIGNvbnN0IGx1dFB1YktleSA9IHB1YmxpY0tleShsdXQpO1xyXG4gICAgICBjb25zdCBmZXRjaGVkTHV0ID0gYXdhaXQgZmV0Y2hBZGRyZXNzTG9va3VwVGFibGUodW1pLCBsdXRQdWJLZXkpO1xyXG4gICAgICB0YWJsZXMgPSBbZmV0Y2hlZEx1dF1cclxuICAgICAgYnVpbGRlciA9IGJ1aWxkZXIuc2V0QWRkcmVzc0xvb2t1cFRhYmxlcyh0YWJsZXMpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gdG9hc3Qoe1xyXG4gICAgICAvLyAgIHRpdGxlOiBcIlN0b3AhIHlvdSBzaG91bGQgcmVhbGx5IHNldCBhIGxvb2t1cCB0YWJsZSFcIixcclxuICAgICAgLy8gICBzdGF0dXM6IFwiZXJyb3JcIixcclxuICAgICAgLy8gICBkdXJhdGlvbjogOTAwMDAsXHJcbiAgICAgIC8vICAgaXNDbG9zYWJsZTogdHJ1ZSxcclxuICAgICAgLy8gfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoIWJ1aWxkZXIuZml0c0luT25lVHJhbnNhY3Rpb24odW1pKSkge1xyXG4gICAgICBvbGRCdWlsZGVyID0gb2xkQnVpbGRlci5zZXRBZGRyZXNzTG9va3VwVGFibGVzKHRhYmxlcylcclxuICAgICAgcmV0dXJuQXJyYXkucHVzaChvbGRCdWlsZGVyKTtcclxuICAgICAgYnVpbGRlciA9IG5ldyBUcmFuc2FjdGlvbkJ1aWxkZXIoKTtcclxuICAgICAgYnVpbGRlciA9IGJ1aWxkZXIuYWRkKHR4KTtcclxuICAgIH1cclxuICAgIGlmIChpID09PSB0eHMubGVuZ3RoIC0gMSkge1xyXG4gICAgICByZXR1cm5BcnJheS5wdXNoKGJ1aWxkZXIpO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gcmV0dXJuQXJyYXk7XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJhbGxvd0xpc3RzIiwiZ2V0TWVya2xlUm9vdCIsInJvdXRlIiwiZ2V0TWVya2xlUHJvb2YiLCJzYWZlRmV0Y2hBbGxvd0xpc3RQcm9vZkZyb21TZWVkcyIsIlRva2VuU3RhbmRhcmQiLCJzb21lIiwidHJhbnNhY3Rpb25CdWlsZGVyIiwicHVibGljS2V5IiwiVHJhbnNhY3Rpb25CdWlsZGVyIiwibm9uZSIsImZldGNoQWRkcmVzc0xvb2t1cFRhYmxlIiwiY2hvb3NlR3VhcmRUb1VzZSIsImd1YXJkIiwiY2FuZHlHdWFyZCIsImd1YXJkR3JvdXAiLCJncm91cHMiLCJmaW5kIiwiaXRlbSIsImxhYmVsIiwiZ3VhcmRzIiwiY29uc29sZSIsImVycm9yIiwidW5kZWZpbmVkIiwibWludEFyZ3NCdWlsZGVyIiwiY2FuZHlNYWNoaW5lIiwiZ3VhcmRUb1VzZSIsIm93bmVkVG9rZW5zIiwicnVsZXNldCIsInJ1bGVTZXQiLCJfX29wdGlvbiIsInZhbHVlIiwibWludEFyZ3MiLCJhbGxvY2F0aW9uIiwiaWQiLCJhbGxvd0xpc3QiLCJhbGxvd2xpc3QiLCJnZXQiLCJtZXJrbGVSb290IiwiZnJlZXplU29sUGF5bWVudCIsImRlc3RpbmF0aW9uIiwiZnJlZXplVG9rZW5QYXltZW50IiwiZGVzdGluYXRpb25BdGEiLCJtaW50IiwibmZ0UnVsZVNldCIsImdhdGVrZWVwZXIiLCJleHBpcmVPblVzZSIsImdhdGVrZWVwZXJOZXR3b3JrIiwibWludExpbWl0IiwibmZ0QnVybiIsInJlcXVpcmVkQ29sbGVjdGlvbiIsIm5mdCIsImVsIiwibWV0YWRhdGEiLCJjb2xsZWN0aW9uIiwia2V5IiwidG9rZW5TdGFuZGFyZCIsIk5vbkZ1bmdpYmxlIiwiUHJvZ3JhbW1hYmxlTm9uRnVuZ2libGUiLCJuZnRHYXRlIiwibmZ0UGF5bWVudCIsInNvbFBheW1lbnQiLCJ0aGlyZFBhcnR5U2lnbmVyIiwidG9rZW4yMDIyUGF5bWVudCIsInRva2VuQnVybiIsInRva2VuR2F0ZSIsInRva2VuUGF5bWVudCIsInJvdXRlQnVpbGRlciIsInVtaSIsInR4MiIsImFsbG93TGlzdFByb29mIiwibWludEF1dGhvcml0eSIsInVzZXIiLCJpZGVudGl0eSIsImFkZCIsImdyb3VwIiwicm91dGVBcmdzIiwicGF0aCIsIm1lcmtsZVByb29mIiwiY29tYmluZVRyYW5zYWN0aW9ucyIsInR4cyIsInRvYXN0IiwicmV0dXJuQXJyYXkiLCJidWlsZGVyIiwiaSIsImxlbmd0aCIsInR4Iiwib2xkQnVpbGRlciIsInRhYmxlcyIsImx1dCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19MVVQiLCJsdXRQdWJLZXkiLCJmZXRjaGVkTHV0Iiwic2V0QWRkcmVzc0xvb2t1cFRhYmxlcyIsImZpdHNJbk9uZVRyYW5zYWN0aW9uIiwicHVzaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./utils/mintHelper.ts\n"));

/***/ })

}]);